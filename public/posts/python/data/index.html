<!doctype html>
<html lang="en-us">
  <head>
    <title>Data // Aum&#39;s blogging site</title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.120.4">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="John Doe" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="/blog/css/main.min.3c3c186cd62e563ad6e2f00a89dbee656ab912d1d46f856b5605dd0232521e2a.css" />

    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Data"/>
<meta name="twitter:description" content="Chapter summary - Unit 3 File I/O: An introduction to file I/O, test files, CSV files, binary files; Exception Handling: handle a single exception, handle multiple exceptions, Two more skills; Work with a database: An introduction to relational databases, SQL statements for data manipulation, SQLite Manager to work with a database, use Python to work with a database
File write modes &ldquo;x&rdquo; - Create - will create a file, returns an error if the file exist &ldquo;a&rdquo; - Append - will create a file if the specified file does not exist &ldquo;w&rdquo; - Write - will create a file if the specified file does not exist f = open(&#34;myfile."/>

    <meta property="og:title" content="Data" />
<meta property="og:description" content="Chapter summary - Unit 3 File I/O: An introduction to file I/O, test files, CSV files, binary files; Exception Handling: handle a single exception, handle multiple exceptions, Two more skills; Work with a database: An introduction to relational databases, SQL statements for data manipulation, SQLite Manager to work with a database, use Python to work with a database
File write modes &ldquo;x&rdquo; - Create - will create a file, returns an error if the file exist &ldquo;a&rdquo; - Append - will create a file if the specified file does not exist &ldquo;w&rdquo; - Write - will create a file if the specified file does not exist f = open(&#34;myfile." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://aumpauskar.site/blog/posts/python/data/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-16T10:06:26+05:30" />
<meta property="article:modified_time" content="2023-11-16T10:06:26+05:30" />



  </head>
  <body>
    <header class="app-header">
      <a href="https://aumpauskar.site/blog/"><img class="app-header-avatar" src="/blog/avatar.jpg" alt="John Doe" /></a>
      <span class="app-header-title">Aum&#39;s blogging site</span>
      <p>Aum&#39;s blog</p>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">Data</h1>
      <div class="post-meta">
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Nov 16, 2023
        </div>
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          4 min read
        </div>
      </div>
    </header>
    <div class="post-content">
      <h2 id="chapter-summary---unit-3">Chapter summary - Unit 3</h2>
<p><strong>File I/O:</strong> An introduction to file I/O, test files, CSV files, binary files; <br>
<strong>Exception Handling:</strong> handle a single exception, handle multiple exceptions, Two more skills; <br>
<strong>Work with a database:</strong> An introduction to relational databases, SQL statements for data
manipulation, SQLite Manager to work with a database, use Python to work with a database</p>
<h2 id="file-write-modes">File write modes</h2>
<ol>
<li>&ldquo;x&rdquo; - Create - will create a file, returns an error if the file exist</li>
<li>&ldquo;a&rdquo; - Append - will create a file if the specified file does not exist</li>
<li>&ldquo;w&rdquo; - Write - will create a file if the specified file does not exist</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span>f <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#34;myfile.txt&#34;</span>, <span style="color:#e6db74">&#34;x&#34;</span>)
</span></span></code></pre></div><p>This will create a file object, and operations can be made from the folllowing file object.</p>
<h2 id="working-with-csv-files">Working with csv files</h2>
<ul>
<li>Writing to a csv file</li>
</ul>
<ol>
<li>import csv module</li>
<li>obtain the writer object</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span>writer <span style="color:#f92672">=</span> csv<span style="color:#f92672">.</span>writer(file)
</span></span></code></pre></div><ol start="3">
<li>write data to the csv file</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span>writer<span style="color:#f92672">.</span>writerows(data)
</span></span></code></pre></div><ul>
<li>Reading from a csv file</li>
</ul>
<ol>
<li>import csv module</li>
<li>ontain the reader onject</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span>reader <span style="color:#f92672">=</span> csv<span style="color:#f92672">.</span>reader(file)
</span></span></code></pre></div><ol start="3">
<li>read data using the reader obbject</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> reader:
</span></span><span style="display:flex;"><span>	print(line)
</span></span></code></pre></div><ul>
<li>Example of working with a simple csv file</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#f92672">import</span> csv
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>myData <span style="color:#f92672">=</span> [[<span style="color:#e6db74">&#39;val&#39;</span>, <span style="color:#e6db74">&#39;data&#39;</span>],[<span style="color:#e6db74">&#39;val2&#39;</span>, <span style="color:#e6db74">&#39;data2&#39;</span>]]
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open (<span style="color:#e6db74">&#39;data.csv&#39;</span>, <span style="color:#e6db74">&#39;w&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>	writeObj <span style="color:#f92672">=</span> csv<span style="color:#f92672">.</span>writer(file)
</span></span><span style="display:flex;"><span>	writeObj<span style="color:#f92672">.</span>writerows(myData)
</span></span></code></pre></div><p>Output</p>
<pre tabindex="0"><code>val,data

val2,data2
</code></pre><ul>
<li>Example of working with a csv files with fields</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#f92672">import</span> csv
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>fields <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;no&#39;</span>, <span style="color:#e6db74">&#39;name&#39;</span>, <span style="color:#e6db74">&#39;championships&#39;</span>]
</span></span><span style="display:flex;"><span>rows <span style="color:#f92672">=</span> [ [<span style="color:#e6db74">&#39;1&#39;</span>, <span style="color:#e6db74">&#39;Schumacher&#39;</span>, <span style="color:#e6db74">&#39;7&#39;</span>],
</span></span><span style="display:flex;"><span>		[<span style="color:#e6db74">&#39;2&#39;</span>, <span style="color:#e6db74">&#39;Hamilton&#39;</span>, <span style="color:#e6db74">&#39;7&#39;</span>],
</span></span><span style="display:flex;"><span>		[<span style="color:#e6db74">&#39;3&#39;</span>, <span style="color:#e6db74">&#39;Prost&#39;</span>, <span style="color:#e6db74">&#39;4&#39;</span>],
</span></span><span style="display:flex;"><span>		[<span style="color:#e6db74">&#39;4&#39;</span>, <span style="color:#e6db74">&#39;Senna&#39;</span>, <span style="color:#e6db74">&#39;3&#39;</span>],
</span></span><span style="display:flex;"><span>		[<span style="color:#e6db74">&#39;5&#39;</span>, <span style="color:#e6db74">&#39;Fangio&#39;</span>, <span style="color:#e6db74">&#39;5&#39;</span>],
</span></span><span style="display:flex;"><span>		[<span style="color:#e6db74">&#39;6&#39;</span>, <span style="color:#e6db74">&#39;Clark&#39;</span>, <span style="color:#e6db74">&#39;3&#39;</span>]]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open (<span style="color:#e6db74">&#39;data.csv&#39;</span>, <span style="color:#e6db74">&#39;w&#39;</span>, newline <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>	writeObj <span style="color:#f92672">=</span> csv<span style="color:#f92672">.</span>writer(file)
</span></span><span style="display:flex;"><span>	writeObj<span style="color:#f92672">.</span>writerow(fields)
</span></span><span style="display:flex;"><span>	writeObj<span style="color:#f92672">.</span>writerows(rows)
</span></span></code></pre></div><p>Output</p>
<pre tabindex="0"><code>no,name,championships
1,Schumacher,7
2,Hamilton,7
3,Prost,4
4,Senna,3
5,Fangio,5
6,Clark,3
</code></pre><ul>
<li>Example of reading from a csv file</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#f92672">import</span> csv
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open (<span style="color:#e6db74">&#39;data.csv&#39;</span>, <span style="color:#e6db74">&#39;r&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>	readObj <span style="color:#f92672">=</span> csv<span style="color:#f92672">.</span>reader(file)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> readObj:
</span></span><span style="display:flex;"><span>		print(line)
</span></span></code></pre></div><p>Output</p>
<pre tabindex="0"><code>[&#39;val&#39;, &#39;data&#39;]                                                                                                                       
[]                                                                                                                                    
[&#39;val2&#39;, &#39;data2&#39;]                                                                                                                     
[]       
</code></pre><ul>
<li>Example of working with binary files in python <br>
Binary files can be opened with the pickle module</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#75715e"># writing binary file</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pickle
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open (<span style="color:#e6db74">&#34;file.bin&#34;</span>, <span style="color:#e6db74">&#34;wb&#34;</span>) <span style="color:#66d9ef">as</span> binFile:
</span></span><span style="display:flex;"><span>	text <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;This is a string of text&#34;</span>
</span></span><span style="display:flex;"><span>	pickle<span style="color:#f92672">.</span>dump(text, binFile)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># reading binary file</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open (<span style="color:#e6db74">&#34;File.bin&#34;</span>, <span style="color:#e6db74">&#34;rb&#34;</span>) <span style="color:#66d9ef">as</span> binFile:
</span></span><span style="display:flex;"><span>	print(pickle<span style="color:#f92672">.</span>load(binFile))
</span></span></code></pre></div><h2 id="exception-handling-in-python">Exception handling in python</h2>
<p>Whenever an error is occured any program spits out an error message and genrally terminates the program. With exception hadling in python, the interpretor manages the error in a specific way and enables the user to handle the exception in a custom manner. <br>
Exception handling in python</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span>x <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;hello&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    z <span style="color:#f92672">=</span> x <span style="color:#f92672">+</span> y
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;Error: cannot add an int and a str&#34;</span>)
</span></span></code></pre></div><p>This error code can be also written in this way to specify the custom error.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;hello&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    z <span style="color:#f92672">=</span> x <span style="color:#f92672">+</span> y
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#a6e22e">TypeError</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;Error: cannot add an int and a str&#34;</span>)
</span></span></code></pre></div><p>Here type error is a custom error, this can be replaced by the <a href="https://www.geeksforgeeks.org/python-exception-handling/">following errors</a>.</p>
<ul>
<li>Raising an exception in python <br>
A standard exception in python can be raised whenever a condition is met</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#75715e"># program to determine if a number is positive or not</span>
</span></span><span style="display:flex;"><span>num <span style="color:#f92672">=</span> int(input(<span style="color:#e6db74">&#34;Enter a number&#34;</span>))
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> num <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>	print(<span style="color:#e6db74">&#34;Number is a positive number&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">ValueError</span>(<span style="color:#e6db74">&#34;Negetive numbers entered&#34;</span>)
</span></span></code></pre></div><ul>
<li>Use of finally in python
The <strong>finally clause is executed regardless of whether or not an exception occurs</strong> in the try block. The <strong>finally clause is often used to close files or free up resources.</strong></li>
</ul>
<p>Here is an example of how to use the finally clause with the try&hellip;except statement:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">divide</span>(x, y):
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> x <span style="color:#f92672">/</span> y
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">ZeroDivisionError</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;Division by zero&#34;</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">finally</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;Closing file&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(divide(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">2</span>))
</span></span></code></pre></div><h2 id="sqlite-with-python">SQLite with Python</h2>
<p>SQLite is a lightweight, embedded relational database management system (RDBMS) that is included in the Python standard library. It is a popular choice for storing small to medium-sized amounts of data, and it is often used in web applications, desktop applications, and scientific computing.</p>
<p>To use SQLite with Python, you can import the <code>sqlite3</code> module. This module provides a simple API for creating, connecting to, and querying SQLite databases.</p>
<p>Here is an example of how to create a new SQLite database and add a row to it:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#f92672">import</span> sqlite3
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Create a connection to a new database file</span>
</span></span><span style="display:flex;"><span>conn <span style="color:#f92672">=</span> sqlite3<span style="color:#f92672">.</span>connect(<span style="color:#e6db74">&#34;my_database.db&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Create a cursor object</span>
</span></span><span style="display:flex;"><span>cur <span style="color:#f92672">=</span> conn<span style="color:#f92672">.</span>cursor()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Create a table</span>
</span></span><span style="display:flex;"><span>cur<span style="color:#f92672">.</span>execute(<span style="color:#e6db74">&#34;CREATE TABLE my_table (name TEXT, age INTEGER)&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Insert a row</span>
</span></span><span style="display:flex;"><span>cur<span style="color:#f92672">.</span>execute(<span style="color:#e6db74">&#34;INSERT INTO my_table (name, age) VALUES (&#39;John Doe&#39;, 30)&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Commit the changes</span>
</span></span><span style="display:flex;"><span>conn<span style="color:#f92672">.</span>commit()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Close the connection</span>
</span></span><span style="display:flex;"><span>conn<span style="color:#f92672">.</span>close()
</span></span></code></pre></div><p>You can also use the <code>sqlite3</code> module to query SQLite databases. Here is an example of how to select all rows from the <code>my_table</code> table:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#f92672">import</span> sqlite3
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Create a connection to the database</span>
</span></span><span style="display:flex;"><span>conn <span style="color:#f92672">=</span> sqlite3<span style="color:#f92672">.</span>connect(<span style="color:#e6db74">&#34;my_database.db&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Create a cursor object</span>
</span></span><span style="display:flex;"><span>cur <span style="color:#f92672">=</span> conn<span style="color:#f92672">.</span>cursor()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Select all rows from the my_table table</span>
</span></span><span style="display:flex;"><span>cur<span style="color:#f92672">.</span>execute(<span style="color:#e6db74">&#34;SELECT * FROM my_table&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Fetch the results</span>
</span></span><span style="display:flex;"><span>rows <span style="color:#f92672">=</span> cur<span style="color:#f92672">.</span>fetchall()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Print the results</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> row <span style="color:#f92672">in</span> rows:
</span></span><span style="display:flex;"><span>    print(row)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Close the connection</span>
</span></span><span style="display:flex;"><span>conn<span style="color:#f92672">.</span>close()
</span></span></code></pre></div><h3 id="operations-in-sqlite">Operations in SQlite</h3>
<ol>
<li>Fetchall - Fetches all the rows and columns as a array</li>
<li>Fetchone - Fetches one line in the form of a string (recursive call needed)</li>
<li>Commit - Commit the saves</li>
<li>Execute - Runs the command in the command script</li>
</ol>

    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
  </body>
</html>
