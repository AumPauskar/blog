<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Mern tutorial | Aum's blogging site</title>
<meta name=keywords content="web,mern,nodejs,react,expressjs,mongodb,javascript,fullstack"><meta name=description content="A quick tutorial on how to create a MERN stack application focued on a fullstack book library application."><meta name=author content="Aum Pauskar"><link rel=canonical href=https://aumpauskar.github.io/blog/posts/web/mern/><link crossorigin=anonymous href=/blog/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U+6hYRq/Ez/nm5vg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/blog/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://aumpauskar.github.io/blog/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://aumpauskar.github.io/blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://aumpauskar.github.io/blog/favicon-32x32.png><link rel=apple-touch-icon href=https://aumpauskar.github.io/blog/apple-touch-icon.png><link rel=mask-icon href=https://aumpauskar.github.io/blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://aumpauskar.github.io/blog/posts/web/mern/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-EV8NVH4QG5"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-EV8NVH4QG5")}</script><meta property="og:title" content="Mern tutorial"><meta property="og:description" content="A quick tutorial on how to create a MERN stack application focued on a fullstack book library application."><meta property="og:type" content="article"><meta property="og:url" content="https://aumpauskar.github.io/blog/posts/web/mern/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-03-29T16:36:16+05:30"><meta property="article:modified_time" content="2024-03-29T16:36:16+05:30"><meta property="og:site_name" content="Aum's blogging site"><meta name=twitter:card content="summary"><meta name=twitter:title content="Mern tutorial"><meta name=twitter:description content="A quick tutorial on how to create a MERN stack application focued on a fullstack book library application."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://aumpauskar.github.io/blog/posts/"},{"@type":"ListItem","position":2,"name":"Mern tutorial","item":"https://aumpauskar.github.io/blog/posts/web/mern/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Mern tutorial","name":"Mern tutorial","description":"A quick tutorial on how to create a MERN stack application focued on a fullstack book library application.","keywords":["web","mern","nodejs","react","expressjs","mongodb","javascript","fullstack"],"articleBody":"MERN Stack Tutorial 01-Running express js Preface Express is a minimal and flexible Node.js web application framework that provides a robust set of features for web and mobile applications. It is an open-source framework developed and maintained by the Node.js foundation. It is designed for building web applications and APIs. It is the standard server framework for Node.js.\nBefore starting with express js, ensure that you have node.js, npm and a code editor installed on your system. The installation of node.js and npm can be verified by running the following commands in the terminal.\n1 2 node -v npm -v In my environment I’m using node version v20.11.1 and npm version 10.2.4 on a wsl environment.\nYou must also ensure that a .gitignore file is created in the root of the project directory. This file would contain the following lines:\n1 node_modules/ This would prevent the node_modules directory from being pushed to the remote repository.\nInstalling npm packages To start a new project with express js, first create a new directory named expressjs and navigate to it. Run the following command within it.\n1 npm init -y This would create a package.json file with default values. Next, install the express and nodemon packages by running the following command.\n1 npm i express nodemon Here, express is the package that would be used to create the server and nodemon is a package that would be used to restart the server automatically when changes are made to the code.\nChanging the package.json file A couple of changes would be made to the package.json file. The type field would be set to module and a new script would be added to the scripts field. The scripts field would look like this:\n1 2 3 4 5 \"type\": \"module\", \"scripts\": { \"start\": \"node index.js\", \"dev\": \"nodemon index.js\" }, Coding Create a new file named index.js and add the following code to it.\n1 2 3 4 5 6 7 8 import express from \"express\"; import { PORT } from \"./config.js\"; const app = express(); app.listen(PORT, () =\u003e { console.log(`Server is running on port ${PORT}`); }); The PORT variable is imported from a file named config.js which would be created next. The config.js file would look like this:\n1 export const PORT = 5000; Running the server To start the server, run the following command in the terminal.\n1 npm run dev This would start the server on port 5000. To verify that the server is running, open a web browser and navigate to http://localhost:5000. You should see a message that says Cannot GET /.\nEpilogue If you want to follow this tutorial section by section please refer to the git commit history.\n02-HTTP request HTTP request methods GET: Retrieve data from the server POST: Send data to the server PUT: Update data on the server DELETE: Remove data from the server PATCH: Update data partially on the server HEAD: Retrieve headers from the server OPTIONS: Retrieve supported methods from the server HTTP response code 200: OK 201: Created 204: No Content 400: Bad Request 401: Unauthorized 403: Forbidden 404: Not Found 405: Method Not Allowed 500: Internal Server Error 503: Service Unavailable Sending an HTTP request using express Open the previously created index.js file and add the following code:\n1 2 3 4 app.get('/', (req, res) =\u003e { console.log(req); return res.status(234).send('Hello from server'); }); The total code will be as follows:\n1 2 3 4 5 6 7 8 9 10 11 12 13 import express from \"express\"; import { PORT } from \"./config.js\"; const app = express(); app.get('/', (req, res) =\u003e { console.log(req); return res.status(234).send('Hello from server'); }); app.listen(PORT, () =\u003e { console.log(`Server is running on port ${PORT}`); }); In the above code, we have created a simple server that listens on port 3000 and sends a response with status code 234 and a message “Hello from server” when a request is made to the root URL.\nNow to verify this you can run npm run dev and open the link given in the terminal. You will see the message “Hello from server” on the browser. To verify the status code, you can open the developer tools and check the network tab.\nAnother method to verify the status code is to use postman. You can install postman from here. Postman is a tool that allows you to send HTTP requests and view the response. You can use postman to send a GET request to the server and check the status code and response.\n03=MongoDB Introduction MongoDB is a NoSQL database that stores data in JSON-like documents. It is a popular choice for many modern web applications because it can handle large amounts of data and is scalable. There are two ways to access MongoDB. One way is to install the MongoDB server on your computer and use the command line interface to interact with it. The other way is to use a cloud-based service like MongoDB Atlas. Here we will focus on using MongoDB Atlas.\nPrerequisites Before you start, you will need to have a MongoDB Atlas account. You can sign up for free at https://www.mongodb.com/cloud/atlas. Create a new account and proceed. Be sure to select the free tier option when creating your cluster if yo are planning to use it as a hobby project and don’t wish to pay for the services.\nSetting up MongoDB Atlas Create a strong password and store it in a safe place. You will need it to connect to your database and authenticate with username and password. Name the db cluster and click finish. This will take a couple of minutes to set up. Once it’s done, click on the connect button. Click on drivers and select the latest version of Node.js. Copy the connection string and store it in backend/config.js file. Note that we will store the password in this file itself so be sure to remove this file from the git repository and add it to the .gitignore file.\nConnecting to MongoDB Atlas Copy the connection string from the MongoDB Atlas dashboard and paste it in the backend/config.js file. Replace the password with the password you used to create the cluster. The connection string should look something like this:\n1 export const mongoDBURL = 'mongodb+srv://:@.mongodb.net/?retryWrites=true\u0026w=majority' Connecting to MongoDB using Mongoose Mongoose is an Object Data Modeling (ODM) library for MongoDB and Node.js. It manages relationships between data, provides schema validation, and is used to translate between objects in code and the representation of those objects in MongoDB. To connect to MongoDB using Mongoose, you will need to install the mongoose package. Run the following command in the terminal:\n1 npm i mongoose Now the index.js file in the backend directory should look something like this:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 import express from \"express\"; import { PORT, mongoDBURL } from \"./config.js\"; import mongoose from \"mongoose\"; const app = express(); app.get('/', (req, res) =\u003e { console.log(req); return res.status(234).send('Hello from server'); }); mongoose.connect(mongoDBURL).then(() =\u003e { console.log('Connected to MongoDB'); app.listen(PORT, () =\u003e { console.log(`Server is running on port ${PORT}`); }); }).catch((err) =\u003e { console.log('Failed to connect to MongoDB', err); }); Hwew we include the mongoose package and use the connect method to connect to the MongoDB database. If the connection is successful, we start the server. If the connection fails, we log the error to the console. Now you can run the server using the following command:\n1 2 cd backend #if you are not already in the backend directory npm run dev If the connection is successful, you should see the following message in the terminal:\n1 2 Connected to MongoDB Server is running on port 5000 04-Book model To create a new model, we need to create a new file in the backend/models directory. Let’s create a new file called bookModel.js and add the following code:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 import mongoose from 'mongoose'; const bookSchema = mongoose.Schema( { title: { type: String, required: true, }, author : { type: String, required: true, }, publishYear: { type: Number, required: true, }, }, { timestamps: true, } ); export const Book = mongoose.model('Book', bookSchema); This code creates a new schema for the book model. The schema defines the structure of the document that will be stored in the database. The title, author, and publishYear fields are required and of type String, String, and Number respectively. The timestamps option creates two fields, createdAt and updatedAt, to store the creation and update times of the document. The Book model is created using the schema and exported.\n05-Saving a book using Mongoose To save a book to the database, we need to create a new route in index.js file in the backend directory. Let’s create a new route called /books and add the following code:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 import express, { response } from \"express\"; import { PORT, mongoDBURL } from \"./config.js\"; import mongoose from \"mongoose\"; import { Book } from \"./models/bookModel.js\"; const app = express(); app.use(express.json()); app.get('/', (req, res) =\u003e { console.log(req); return res.status(234).send('Hello from server'); }); app.post('/books', async (req, res) =\u003e { try { if ( !req.body.title || !req.body.author || !req.body.publishYear ) { return res.status(400).send({ message: 'Please fill all required fields' }); } const newBook = { title: req.body.title, author: req.body.author, publishYear: req.body.publishYear, }; const book = await Book.create(newBook); // Send a response back to the client return res.status(201).send(book); } catch (error) { console.log(error.message); res.status(500).send({ message: error.message}); } }); mongoose.connect(mongoDBURL).then(() =\u003e { console.log('Connected to MongoDB'); app.listen(PORT, () =\u003e { console.log(`Server is running on port ${PORT}`); }); }).catch((err) =\u003e { console.log('Failed to connect to MongoDB', err); }); Here we have added a new route /books that listens for POST requests. When a POST request is received, we check if the required fields are present in the request body. If they are, we create a new book using the Book model and send a response back to the client. If the required fields are not present, we send a 400 status code with a message asking the client to fill all required fields. If an error occurs, we log the error to the console and send a 500 status code with the error message to the client.\nNote that we have added app.use(express.json()); to parse the request body as JSON. This is required to access the request body in the POST request.\nNow you can run the server using the following command:\n1 2 cd backend #if you are not already in the backend directory npm run dev This code cannot be tested via the browser and should be tested via a REST client like Postman. You can use the following code to test the route: Postman set up URL: http://localhost:5000/books\nMethod: POST\nBody: raw\nHeaders: Content-Type: application/json\\\n1 2 3 4 5 { \"title\": \"name\", \"author\": \"authname\", \"publishYear\": 2077 } If the request is successful, you should see the following message in the terminal:\n1 2 Connected to MongoDB Server is running on port 5000 And this output in the postman shell (might differ in your case):\n1 2 3 4 5 6 7 8 9 { \"title\": \"name\", \"author\": \"authname\", \"publishYear\": 2077, \"_id\": \"60f3e3e3e3e3e3e3e3e3e3e3\", \"createdAt\": \"2021-07-18T14:00:00.000Z\", \"updatedAt\": \"2021-07-18T14:00:00.000Z\", \"__v\": 0 } 06-Getting books from the database In the previous module we have used the post method to add books to the database. In this module we will use the get method to retrieve books from the database. In order to d othis we can create a new get route for the /books endpoint.\n1 2 3 4 5 6 7 8 9 app.get('/books', async (req, res) =\u003e { try { const books = await Book.find({}); return res.status(200).send(books); } catch (error) { console.log(error.message); res.status(500).send({ message: error.message}); } }); This method can further be modified for a more detailed search by modifying the json output.\n1 2 3 4 5 6 7 8 9 10 11 12 app.get('/books', async (req, res) =\u003e { try { const books = await Book.find({}); return res.status(200).json({ count: books.length, data: books }); } catch (error) { console.log(error.message); res.status(500).send({ message: error.message}); } }); Similarly to the previous module the endpoints are to be tested using Postman. But instead of using the post method, we will use the get method.\nThe final output (from postman) should look like this:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 { \"count\": 1, \"data\": [ { \"_id\": \"65ef564e810c88d123eea864\", \"title\": \"name\", \"author\": \"authname\", \"publishYear\": 2077, \"createdAt\": \"2024-03-11T19:06:55.000Z\", \"updatedAt\": \"2024-03-11T19:06:55.000Z\", \"__v\": 0 } ] } 07-Getting books by id What if we want to retrieve a specific book from the database? We can do this by creating a new get route for the /books/:id endpoint.\n1 2 3 4 5 6 7 8 9 10 app.get('/books/:id', async (req, res) =\u003e { try { const { id } = req.params; const book = await Book.findById(id); return res.status(200).json(book); } catch (error) { console.log(error.message); res.status(500).send({ message: error.message}); } }); Here the :id is a route parameter which is used to retrieve the book with the given id, this id is then used to query the database and retrieve the book.\nIn my case the id was 65ef564e810c88d123eea864. So the argument in postman must be using the get method and the url must be http://localhost:3000/books/65ef564e810c88d123eea864. The final output (from postman) should look like this:\n1 2 3 4 5 6 7 8 9 { \"_id\": \"65ef564e810c88d123eea864\", \"title\": \"name\", \"author\": \"authname\", \"publishYear\": 2077, \"createdAt\": \"2024-03-11T19:06:55.000Z\", \"updatedAt\": \"2024-03-11T19:06:55.000Z\", \"__v\": 0 } 08-Updating books Use of the put method The put method is used to update a book in the database. In order to do this we can create a new put route for the /books/:id endpoint.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 app.put('/books/:id', async (req, res) =\u003e { try { if ( !req.body.title || !req.body.author || !req.body.publishYear ) { return res.status(400).send({ message: \"Please fill all required fields\", }); } const { id } = req.params; const result = await Book.findByIdAndUpdate(id, req.body); if (!result) { return res.status(404).send({ message: \"Book not found\" }); } return res.status(200).send({ message: \"Book updated successfully\" }); } catch (error) { console.log(error.message); res.status(500).send({ message: error.message}); } }); This is a route handler for a PUT request in an Express.js application. It’s designed to update a book record in a database. Here’s a step-by-step explanation:\napp.put('/books/:id', async (req, res) =\u003e {...}: This line sets up a route for PUT requests to ‘/books/:id’. The ‘:id’ is a route parameter that will be replaced with the ID of the book to update.\nInside the route handler, it first checks if the required fields (title, author, publishYear) are provided in the request body. If not, it sends a 400 status code (Bad Request) with a message.\nconst { id } = req.params;: This line extracts the ‘id’ from the request parameters.\nconst result = await Book.findByIdAndUpdate(id, req.body);: This line uses the findByIdAndUpdate method of the Book model to update the book with the given ID. It uses the data from the request body to update the book.\nIf the findByIdAndUpdate method does not find a book with the given ID, it returns null. The code checks for this and, if the book is not found, sends a 404 status code (Not Found) with a message.\nIf the book is found and updated, it sends a 200 status code (OK) with a success message.\nIf any error occurs during this process, it’s caught in the catch block, logged to the console, and a 500 status code (Internal Server Error) is sent with the error message.\nSimilar to the previous modules, the endpoints are to be tested using Postman. But instead of using the post method, we will use the put method.\nUse the following postman settings\nMethod: put URL: http://localhost:3000/books/ Body: 1 2 3 4 5 { \"title\": \"new title\", \"author\": \"new author\", \"publishYear\": 2023 } The final output (from postman) should look like this:\n1 2 3 { \"message\": \"Book updated successfully\" } This can be verified by using the get method and the url must be http://localhost:5000/books/. The final output (from postman) should look like this:\n1 2 3 4 5 6 7 8 9 { \"_id\": \"65ef564e810c88d123eea864\", \"title\": \"newname\", \"author\": \"newauthname\", \"publishYear\": 2023, \"createdAt\": \"2024-03-11T19:06:55.000Z\", \"updatedAt\": \"2024-03-14T06:46:16.522Z\", \"__v\": 0 } 09-Deleting books from the database In the previous modules, we have used the post method to add books to the database, the get method to retrieve books from the database, and the put method to update books in the database. In this module, we will use the delete method to remove books from the database.\nThis is the following route to handle the delete method:\n1 2 3 4 5 6 7 8 9 10 11 12 13 app.delete('/books/:id', async (req, res) =\u003e { try { const { id } = req.params; const result = await Book.findByIdAndDelete(id); if (!result) { return res.status(404).send({ message: \"Book not found\" }); } return res.status(200).send({ message: \"Book deleted successfully\" }); } catch (error) { console.log(error.message); res.status(500).send({ message: error.message}); } }); The code is self-explanatory. It first checks if the book with the given ID exists in the database. If it does, it deletes the book and sends a 200 status code (OK) with a success message. If the book is not found, it sends a 404 status code (Not Found) with a message. If any error occurs during this process, it’s caught in the catch block, logged to the console, and a 500 status code (Internal Server Error) is sent with the error message.\nSimilar to the previous modules, the endpoints are to be tested using Postman. But instead of using the post method, we will use the delete method.\nFirst we shall add a new book to the database using the post method. Then we will use the get method to retrieve the book’s id. Finally, we will use the delete method to remove the book from the database.\nAdding a new book\nMethod: post URL: http://localhost:5000/books Body: 1 2 3 4 5 { \"title\": \"deletethisbook\", \"author\": \"deletethisauthor\", \"publishYear\": 2008 } Retrieving the book’s id\nMethod: get URL: http://localhost:5000/books The final output (from postman) should look like this: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 { \"count\": 2, \"data\": [ { \"_id\": \"65ef564e810c88d123eea864\", \"title\": \"newname\", \"author\": \"newauthname\", \"publishYear\": 2023, \"createdAt\": \"2024-03-11T19:06:55.000Z\", \"updatedAt\": \"2024-03-14T06:46:16.522Z\", \"__v\": 0 }, { \"_id\": \"65f2a166b3f07128b54a362f\", \"title\": \"deletethisbook\", \"author\": \"deletethisauthor\", \"publishYear\": 2008, \"createdAt\": \"2024-03-14T07:04:06.831Z\", \"updatedAt\": \"2024-03-14T07:04:06.831Z\", \"__v\": 0 } ] } Here the second book has the id 65f2a166b3f07128b54a362f and this is the id we will use to delete the book. Deleting the book\nMethod: delete URL: http://localhost:5000/books/65f2a166b3f07128b54a362f The final output (from postman) should look like this: 1 2 3 { \"message\": \"Book deleted successfully\" } This can be verified by using the get method and the url must be http://localhost:5000/books. The final output (from postman) should look like this:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 { \"count\": 1, \"data\": [ { \"_id\": \"65ef564e810c88d123eea864\", \"title\": \"newname\", \"author\": \"newauthname\", \"publishYear\": 2023, \"createdAt\": \"2024-03-11T19:06:55.000Z\", \"updatedAt\": \"2024-03-14T06:46:16.522Z\", \"__v\": 0 } ] } 10-Express router Having all the routes in the same file can be a bit messy, it makes the code readability harder and debugging a bit more difficult. To solve this problem, Express provides a way to separate the routes into different files using the express.Router class.\nIn order to do this we can create a new file called /routes/bookRoutes.js and move the routes from app.js to this new file.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 import express from 'express'; import { Book } from '../models/bookModel.js'; const router = express.Router(); router.post('/', async (req, res) =\u003e { try { if ( !req.body.title || !req.body.author || !req.body.publishYear ) { return res.status(400).send({ message: 'Please fill all required fields' }); } const newBook = { title: req.body.title, author: req.body.author, publishYear: req.body.publishYear, }; const book = await Book.create(newBook); // Send a response back to the client return res.status(201).send(book); } catch (error) { console.log(error.message); res.status(500).send({ message: error.message}); } }); router.get('/', async (req, res) =\u003e { try { const books = await Book.find({}); return res.status(200).json({ count: books.length, data: books }); } catch (error) { console.log(error.message); res.status(500).send({ message: error.message}); } }); router.get('/:id', async (req, res) =\u003e { try { const { id } = req.params; const book = await Book.findById(id); return res.status(200).json(book); } catch (error) { console.log(error.message); res.status(500).send({ message: error.message}); } }); router.put('/:id', async (req, res) =\u003e { try { if ( !req.body.title || !req.body.author || !req.body.publishYear ) { return res.status(400).send({ message: \"Please fill all required fields\", }); } const { id } = req.params; const result = await Book.findByIdAndUpdate(id, req.body); if (!result) { return res.status(404).send({ message: \"Book not found\" }); } return res.status(200).send({ message: \"Book updated successfully\" }); } catch (error) { console.log(error.message); res.status(500).send({ message: error.message}); } }); router.delete('/:id', async (req, res) =\u003e { try { const { id } = req.params; const result = await Book.findByIdAndDelete(id); if (!result) { return res.status(404).send({ message: \"Book not found\" }); } return res.status(200).send({ message: \"Book deleted successfully\" }); } catch (error) { console.log(error.message); res.status(500).send({ message: error.message}); } }); export default router; For reference the structure of the index.js file should look like this BEFORE the refactoring:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 import express, { response } from \"express\"; import { PORT, mongoDBURL } from \"./config.js\"; import mongoose from \"mongoose\"; import { Book } from \"./models/bookModel.js\"; const app = express(); app.use(express.json()); app.get('/', (req, res) =\u003e { console.log(req); return res.status(234).send('Hello from server'); }); app.post('/books', async (req, res) =\u003e { try { if ( !req.body.title || !req.body.author || !req.body.publishYear ) { return res.status(400).send({ message: 'Please fill all required fields' }); } const newBook = { title: req.body.title, author: req.body.author, publishYear: req.body.publishYear, }; const book = await Book.create(newBook); // Send a response back to the client return res.status(201).send(book); } catch (error) { console.log(error.message); res.status(500).send({ message: error.message}); } }); app.get('/books', async (req, res) =\u003e { try { const books = await Book.find({}); return res.status(200).json({ count: books.length, data: books }); } catch (error) { console.log(error.message); res.status(500).send({ message: error.message}); } }); app.get('/books/:id', async (req, res) =\u003e { try { const { id } = req.params; const book = await Book.findById(id); return res.status(200).json(book); } catch (error) { console.log(error.message); res.status(500).send({ message: error.message}); } }); app.put('/books/:id', async (req, res) =\u003e { try { if ( !req.body.title || !req.body.author || !req.body.publishYear ) { return res.status(400).send({ message: \"Please fill all required fields\", }); } const { id } = req.params; const result = await Book.findByIdAndUpdate(id, req.body); if (!result) { return res.status(404).send({ message: \"Book not found\" }); } return res.status(200).send({ message: \"Book updated successfully\" }); } catch (error) { console.log(error.message); res.status(500).send({ message: error.message}); } }); app.delete('/books/:id', async (req, res) =\u003e { try { const { id } = req.params; const result = await Book.findByIdAndDelete(id); if (!result) { return res.status(404).send({ message: \"Book not found\" }); } return res.status(200).send({ message: \"Book deleted successfully\" }); } catch (error) { console.log(error.message); res.status(500).send({ message: error.message}); } }); mongoose.connect(mongoDBURL).then(() =\u003e { console.log('Connected to MongoDB'); app.listen(PORT, () =\u003e { console.log(`Server is running on port ${PORT}`); }); }).catch((err) =\u003e { console.log('Failed to connect to MongoDB', err); }); And here is the code after refactoring:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 import express, { response } from \"express\"; import { PORT, mongoDBURL } from \"./config.js\"; import mongoose from \"mongoose\"; import booksRouter from \"./routes/bookRoutes.js\"; const app = express(); app.use(express.json()); app.get('/', (req, res) =\u003e { console.log(req); return res.status(234).send('Hello from server'); }); app.use('/books', booksRouter); mongoose.connect(mongoDBURL).then(() =\u003e { console.log('Connected to MongoDB'); app.listen(PORT, () =\u003e { console.log(`Server is running on port ${PORT}`); }); }).catch((err) =\u003e { console.log('Failed to connect to MongoDB', err); }); Note the changes we have done to the index.js file: We have removed all the /books routes from the index.js file and replaced them with app.use('/books', booksRouter);. This line tells Express to use the booksRouter for all the routes that start with /books.\nAnd the bookRoutes.js file is a new file that we have created to hold all the /books routes. We have moved all the /books routes from the index.js file to this new file. We have renamed the app object to router and we have exported it at the end of the file and refactored the routes to start with / instead of /books. This is because we have included this line app.use('/books', booksRouter); in the index.js file, so all the routes in the bookRoutes.js file will be prefixed with /books.\n11-CORS policy What is CORS? CORS stands for Cross-Origin Resource Sharing. It is a security feature implemented in web browsers to prevent unauthorized access to resources on a different origin. An origin is defined as the combination of protocol, domain, and port. For example, the origin of https://example.com:8080 is https://example.com:8080. It is a safety measure to prevent unauthorized access to resources on a different origin. However, there are times when you want to allow access to resources from a different origin. This is where CORS comes in.\nIncluding CORS in your Express app To use CORS in your Express app, you need to install the cors package. You can do this by running the following command in your terminal:\n1 npm i cors After installing the cors package, you can include it in your Express app by adding the following line of code to your index.js file:\n1 import cors from \"cors\"; Then, you can use the cors middleware in your app by adding the following line of code to your index.js file. This can be done in 2 ways:\nAllow all origins Allow specific origins 1 2 3 4 5 6 7 8 // Allow all origins app.use(cors()); // Allow specific origins app.use(cors({ origin: 'http://localhost:5000', methods: 'GET, POST, PUT, DELETE', allowedHeaders: 'Content-Type' })); Note that only one of the above lines should be used in your index.js file. The first line allows all origins, while the second line allows only the specified origin. You can also specify the methods and headers that are allowed.\n12-React setup What is React? React is a JavaScript library for building user interfaces. It is maintained by Facebook and a community of individual developers and companies. React can be used as a base in the development of single-page or mobile applications.\nHow to install React There are two (main) ways to install React:\nUsing create-react-app: Advantages: It is the easiest way to get started with React. Disadvantages: It is not as flexible as setting up React from scratch. Using vite: Advantages: It is faster than create-react-app. Disadvantages: It is not as beginner-friendly as create-react-app. We shall use vite to set up our React app. To create a vite app, run the following command in the root directory of your terminal:\n1 npm create vite@latest If vite is not installed, a prompt will appear asking you to install it. Press y and hit Enter to install vite. After installing vite, you will be prompted to enter the name of your project. Enter the name of your project and hit Enter. Vite will now ask the framework you want to use. Select react and hit Enter. It will now ask if you want to use TypeScript or JavaScript. We shall use JavaScript, so hit Enter. Vite will now create a new directory with the name of your project and set up a new React app for you.\nNow go into the directory of your project by running the following command in your terminal:\n1 2 cd npm i Using Tailwind Tailwind CSS is a utility-first CSS framework for rapidly building custom designs. It is a low-level framework that provides you with all the building blocks you need to build your own designs. To use Tailwind in your React app, you need to install the tailwindcss package. You can do this by running the following command in your terminal. But first visit the Tailwind website or dirctly visit the quickstart guide for vite.\nInstallation\n1 2 npm install -D tailwindcss postcss autoprefixer npx tailwindcss init -p After installing the tailwindcss package, you can replace it in your React app by adding the following line of code to your tailwind.config.js file:\n1 2 3 4 5 6 7 8 9 10 11 /** @type {import('tailwindcss').Config} */ export default { content: [ \"./index.html\", \"./src/**/*.{js,ts,jsx,tsx}\", ], theme: { extend: {}, }, plugins: [], } Now you can replace the code of index.css with the following code:\n1 2 3 @tailwind base; @tailwind components; @tailwind utilities; Delete App.css for now\nIn the App.jsx file, replace the code with the following:\n1 2 3 4 5 6 7 8 9 10 11 import React from 'react' const App = () =\u003e { return ( \u003cdiv className='bg-red-400 text-white'\u003e App \u003c/div\u003e ) } export default App To make development easier, you use the ES7 React/Redux/GraphQL/React-Native snippets extension in VSCode. This extension provides you with a lot of snippets that you can use to write your code faster. Using rafce snippet will create a functional component with an export statement.\nTo run this code in your browser, run the following command in your terminal:\n1 npm run dev Unlike the modules before you have to run the command in the frontend directory. This will start a development server and open your app in your default browser. The output will look like this: 13-React router dom The react router dom is a package that allows you to use the routing in your react application. It is a collection of navigational components that compose declaratively with your application.\nInstallation 1 npm i react-router-dom Usage Go to the main.jsx file and import the BrowserRouter and Route components from the react-router-dom package.\n1 2 3 4 5 6 7 8 9 10 11 import React from 'react' import ReactDOM from 'react-dom/client' import App from './App.jsx' import './index.css' import { BrowserRouter } from 'react-router-dom' ReactDOM.createRoot(document.getElementById('root')).render( \u003cBrowserRouter\u003e \u003cApp /\u003e \u003c/BrowserRouter\u003e, ) You have to create a new folder within the src folder called page. This folder will contain the components that will be used in the routes. Create 5 different files within the page folder.\nHome.jsx 1 2 3 4 5 6 7 8 9 10 11 import React from 'react' function Home() { return ( \u003cdiv\u003e \u003c/div\u003e ) } export default Home ShowBook.jsx 1 2 3 4 5 6 7 8 9 10 11 import React from 'react' function ShowBook() { return ( \u003cdiv\u003e \u003c/div\u003e ) } export default ShowBook EditBook.jsx 1 2 3 4 5 6 7 8 9 10 11 import React from 'react' function EditBook() { return ( \u003cdiv\u003e \u003c/div\u003e ) } export default EditBook CreateBook.jsx 1 2 3 4 5 6 7 8 9 10 11 import React from 'react' function CreateBook() { return ( \u003cdiv\u003e \u003c/div\u003e ) } export default CreateBook DeleteBook.jsx 1 2 3 4 5 6 7 8 9 10 11 import React from 'react' function DeleteBook() { return ( \u003cdiv\u003e \u003c/div\u003e ) } export default DeleteBook Now you have to modify the App.jsx file to use the Route component.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 import React from 'react' import { Routes, Route } from 'react-router-dom' import Home from './page/Home' import ShowBook from './page/ShowBook' import EditBook from './page/EditBook' import NewBook from './page/NewBook' import CreateBook from './page/CreateBook' import DeleteBook from './page/DeleteBook' const App = () =\u003e { return ( \u003cRoutes\u003e \u003cRoute path='/' element={ \u003cHome /\u003e } /\u003e \u003cRoute path='/books/create' element={ \u003cCreateBook /\u003e } /\u003e \u003cRoute path='/books/details/:id' element={ \u003cShowBook /\u003e } /\u003e \u003cRoute path='/books/edit/:id' element={ \u003cEditBook /\u003e } /\u003e \u003cRoute path='/books/delete/:id' element={ \u003cDeleteBook /\u003e } /\u003e \u003c/Routes\u003e ) } export default App 14-Showing books in react In this part we need both the frontend and the backend of the project and we will be using the backend from the previous part.\nPackages needed First cd into the frontend folder and run the following command to install the packages needed.\n1 2 cd frontend npm install axios react-icons Axios is a promise based HTTP client for the browser and node.js and react-icons is a library that provides popular icons for your react project.\nTweaking the backend Open the /backend/index.js and do the following changes.\n1 2 3 4 5 6 app.use(cors()); // app.use(cors({ // origin: 'http://localhost:5000', // methods: 'GET, POST, PUT, DELETE', // allowedHeaders: 'Content-Type' // })); We are commenting out the cors options because we are not going to use it in this part.\nCreating react components for loading state Create a folder in frontend/src called components and create a file called Spinner.jsx and add the following code.\n1 2 3 4 5 6 7 8 9 import React from 'react' function Spinner() { return ( \u003cdiv className='animate-ping w-16 h-16 m-8 rounded-full bg-sky-600'\u003e\u003c/div\u003e ) } export default Spinner This is a simple spinner component that we will use to show the user that the books are being loaded.\nNow we have to create a component to show the books Modifying frontend/src/page/Home.jsx to show the books.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 import React from 'react' import { useState, useEffect } from 'react' import axios from 'axios' import Spinner from '../components/Spinner' import { AiOutlineEdit } from 'react-icons/ai' import { BsInfoCircle } from 'react-icons/bs' import { MdOutlineAddBox, MdOutlineDelete } from 'react-icons/md' import { Link } from 'react-router-dom'; function Home() { const [books, setBooks] = useState([]); const [loading, setLoading] = useState(false); useEffect(() =\u003e { setLoading(true); axios.get('http://localhost:5000/books').then((response) =\u003e { setBooks(response.data.data); setLoading(false); }).catch((error) =\u003e { console.log(error); setLoading(false); }); }, []); return ( \u003cdiv className='p-4'\u003e \u003cdiv className='flex justify-between items-center'\u003e \u003ch1 className='text-3xl my-8'\u003eBook list\u003c/h1\u003e \u003cLink to ='/books/create'\u003e \u003cMdOutlineAddBox className='text-sky-800 text-4xl' /\u003e \u003c/Link\u003e \u003c/div\u003e {loading ? ( \u003cSpinner /\u003e ) : ( \u003ctable className='w-full border-separate border-spacing-2' \u003e \u003cthead\u003e \u003ctr\u003e \u003cth className='border border-slate-600 rounded-md'\u003eNo\u003c/th\u003e \u003cth className='border border-slate-600 rounded-md'\u003eTitle\u003c/th\u003e \u003cth className='border border-slate-600 rounded-md max-md:hidden'\u003eAuthor\u003c/th\u003e \u003cth className='border border-slate-600 rounded-md'\u003ePublish Year\u003c/th\u003e \u003cth className='border border-slate-600 rounded-md max-md:hidden'\u003eOperations\u003c/th\u003e \u003c/tr\u003e \u003c/thead\u003e \u003ctbody\u003e {books.map((book, index) =\u003e ( \u003ctr key={book._id} className='h-8'\u003e \u003ctd className='border border-slate-700 rounded-md text-center'\u003e {index + 1} \u003c/td\u003e \u003ctd className='border border-slate-700 rounded-md text-center'\u003e {book.title} \u003c/td\u003e \u003ctd className='border border-slate-700 rounded-md text-center'\u003e {book.author} \u003c/td\u003e \u003ctd className='border border-slate-700 rounded-md text-center'\u003e {book.publishYear} \u003c/td\u003e \u003ctd className='border border-slate-700 rounded-md text-center'\u003e \u003cdiv className='flex justify-center gap-x-4'\u003e \u003cLink to={`/books/details/${book._id}`}\u003e \u003cBsInfoCircle className='text-sky-800 text-2xl' /\u003e \u003c/Link\u003e \u003cLink to={`/books/edit/${book._id}`}\u003e \u003cAiOutlineEdit className='text-sky-800 text-2xl' /\u003e \u003c/Link\u003e \u003cLink to={`/books/delete/${book._id}`}\u003e \u003cMdOutlineDelete className='text-sky-800 text-2xl' /\u003e \u003c/Link\u003e \u003c/div\u003e \u003c/td\u003e \u003c/tr\u003e ))} \u003c/tbody\u003e \u003c/table\u003e )} \u003c/div\u003e ) } export default Home Explanation of the code: This is a React component named Home that fetches and displays a list of books from a backend server. Here’s a breakdown of what each part of the code does:\nImports: The necessary modules and components are imported. This includes React itself, the useState and useEffect hooks from React, the axios library for making HTTP requests, a Spinner component (presumably a loading spinner), several icons from react-icons, and the Link component from react-router-dom.\nState Variables: Two state variables are declared using the useState hook: books (an array to store the list of books) and loading (a boolean to track whether the data is currently being fetched).\nData Fetching: The useEffect hook is used to fetch the list of books from the backend server when the component is first rendered. The axios.get function is used to make a GET request to the server. If the request is successful, the response data is stored in the books state variable and loading is set to false. If an error occurs, it’s logged to the console and loading is also set to false.\nRendering: The component returns a JSX element that displays a list of books. If the data is still being fetched (loading is true), a Spinner component is displayed. Otherwise, a table is displayed with each book’s details. Each book has links to its detail, edit, and delete pages, which are created using the Link component from react-router-dom.\nExport: Finally, the Home component is exported for use in other parts of the application.\nModifying frontend/src/App.js to show the Home component.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 import React from 'react' import { Routes, Route } from 'react-router-dom' import Home from './page/Home' import ShowBook from './page/ShowBook' import EditBook from './page/EditBook' // import NewBook from './page/NewBook' import CreateBook from './page/CreateBook' import DeleteBook from './page/DeleteBook' const App = () =\u003e { return ( \u003cRoutes\u003e \u003cRoute path='/' element={ \u003cHome /\u003e } /\u003e \u003cRoute path='/books/create' element={ \u003cCreateBook /\u003e } /\u003e \u003cRoute path='/books/details/:id' element={ \u003cShowBook /\u003e } /\u003e \u003cRoute path='/books/edit/:id' element={ \u003cEditBook /\u003e } /\u003e \u003cRoute path='/books/delete/:id' element={ \u003cDeleteBook /\u003e } /\u003e \u003c/Routes\u003e ) } export default App Running the code To run this code two instances of the terminal must be made. One for the backend and the other for the frontend. In the backend terminal run the following command.\n1 2 cd backend/ npm run dev In the frontend terminal run the following command.\n1 2 cd frontend/ npm run dev Open the link provided by the frontend page and you will see the books being displayed.\nPreview of the page: References freecodecamp.org My github repo derived from the above link ","wordCount":"6514","inLanguage":"en","datePublished":"2024-03-29T16:36:16+05:30","dateModified":"2024-03-29T16:36:16+05:30","author":{"@type":"Person","name":"Aum Pauskar"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://aumpauskar.github.io/blog/posts/web/mern/"},"publisher":{"@type":"Organization","name":"Aum's blogging site","logo":{"@type":"ImageObject","url":"https://aumpauskar.github.io/blog/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://aumpauskar.github.io/blog/ accesskey=h title="Aum's blogging site (Alt + H)">Aum's blogging site</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://aumpauskar.github.io/blog/>Home</a>&nbsp;»&nbsp;<a href=https://aumpauskar.github.io/blog/posts/>Posts</a></div><h1 class=post-title>Mern tutorial</h1><div class=post-description>A quick tutorial on how to create a MERN stack application focued on a fullstack book library application.</div><div class=post-meta><span title='2024-03-29 16:36:16 +0530 IST'>March 29, 2024</span>&nbsp;·&nbsp;31 min&nbsp;·&nbsp;6514 words&nbsp;·&nbsp;Aum Pauskar&nbsp;|&nbsp;<a href=https://github.com/AumPauskar/blog/content/posts//posts/web/mern.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#01-running-express-js>01-Running express js</a><ul><li><a href=#preface>Preface</a></li><li><a href=#installing-npm-packages>Installing npm packages</a></li><li><a href=#changing-the-packagejson-file>Changing the <code>package.json</code> file</a></li><li><a href=#coding>Coding</a></li><li><a href=#running-the-server>Running the server</a></li><li><a href=#epilogue>Epilogue</a></li></ul></li><li><a href=#02-http-request>02-HTTP request</a><ul><li><a href=#http-request-methods>HTTP request methods</a></li><li><a href=#http-response-code>HTTP response code</a></li><li><a href=#sending-an-http-request-using-express>Sending an HTTP request using express</a></li></ul></li><li><a href=#03mongodb>03=MongoDB</a><ul><li><a href=#introduction>Introduction</a></li><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#setting-up-mongodb-atlas>Setting up MongoDB Atlas</a></li><li><a href=#connecting-to-mongodb-atlas>Connecting to MongoDB Atlas</a></li><li><a href=#connecting-to-mongodb-using-mongoose>Connecting to MongoDB using Mongoose</a></li></ul></li><li><a href=#04-book-model>04-Book model</a></li><li><a href=#05-saving-a-book-using-mongoose>05-Saving a book using Mongoose</a></li><li><a href=#06-getting-books-from-the-database>06-Getting books from the database</a></li><li><a href=#07-getting-books-by-id>07-Getting books by id</a></li><li><a href=#08-updating-books>08-Updating books</a><ul><li><a href=#use-of-the-put-method>Use of the <code>put</code> method</a></li></ul></li><li><a href=#09-deleting-books-from-the-database>09-Deleting books from the database</a></li><li><a href=#10-express-router>10-Express router</a></li><li><a href=#11-cors-policy>11-CORS policy</a><ul><li><a href=#what-is-cors>What is CORS?</a></li><li><a href=#including-cors-in-your-express-app>Including CORS in your Express app</a></li></ul></li><li><a href=#12-react-setup>12-React setup</a><ul><li><a href=#what-is-react>What is React?</a></li><li><a href=#how-to-install-react>How to install React</a></li><li><a href=#using-tailwind>Using Tailwind</a></li></ul></li><li><a href=#13-react-router-dom>13-React router dom</a><ul><li><a href=#installation>Installation</a></li><li><a href=#usage>Usage</a></li></ul></li><li><a href=#14-showing-books-in-react>14-Showing books in react</a><ul><li><a href=#packages-needed>Packages needed</a></li><li><a href=#tweaking-the-backend>Tweaking the backend</a></li><li><a href=#creating-react-components-for-loading-state>Creating react components for loading state</a></li><li><a href=#now-we-have-to-create-a-component-to-show-the-books>Now we have to create a component to show the books</a></li><li><a href=#running-the-code>Running the code</a></li></ul></li><li><a href=#references>References</a></li></ul></nav></div></details></div><div class=post-content><h1 id=mern-stack-tutorial>MERN Stack Tutorial<a hidden class=anchor aria-hidden=true href=#mern-stack-tutorial>#</a></h1><h2 id=01-running-express-js>01-Running express js<a hidden class=anchor aria-hidden=true href=#01-running-express-js>#</a></h2><h3 id=preface>Preface<a hidden class=anchor aria-hidden=true href=#preface>#</a></h3><p>Express is a minimal and flexible Node.js web application framework that provides a robust set of features for web and mobile applications. It is an open-source framework developed and maintained by the Node.js foundation. It is designed for building web applications and APIs. It is the standard server framework for Node.js.</p><p>Before starting with express js, ensure that you have node.js, npm and a code editor installed on your system. The installation of node.js and npm can be verified by running the following commands in the terminal.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>node -v
</span></span><span class=line><span class=cl>npm -v
</span></span></code></pre></td></tr></table></div></div><p>In my environment I&rsquo;m using node version <code>v20.11.1</code> and npm version <code>10.2.4</code> on a wsl environment.</p><p>You must also ensure that a <code>.gitignore</code> file is created in the root of the project directory. This file would contain the following lines:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>node_modules/
</span></span></code></pre></td></tr></table></div></div><p>This would prevent the <code>node_modules</code> directory from being pushed to the remote repository.</p><h3 id=installing-npm-packages>Installing npm packages<a hidden class=anchor aria-hidden=true href=#installing-npm-packages>#</a></h3><p>To start a new project with express js, first create a new directory named <code>expressjs</code> and navigate to it. Run the following command within it.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm init -y
</span></span></code></pre></td></tr></table></div></div><p>This would create a <code>package.json</code> file with default values. Next, install the <code>express</code> and <code>nodemon</code> packages by running the following command.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm i express nodemon
</span></span></code></pre></td></tr></table></div></div><p>Here, <code>express</code> is the package that would be used to create the server and <code>nodemon</code> is a package that would be used to restart the server automatically when changes are made to the code.</p><h3 id=changing-the-packagejson-file>Changing the <code>package.json</code> file<a hidden class=anchor aria-hidden=true href=#changing-the-packagejson-file>#</a></h3><p>A couple of changes would be made to the <code>package.json</code> file. The <code>type</code> field would be set to <code>module</code> and a new script would be added to the <code>scripts</code> field. The <code>scripts</code> field would look like this:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1>1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2>2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3>3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4>4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=s2>&#34;type&#34;</span><span class=err>:</span> <span class=s2>&#34;module&#34;</span><span class=err>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;scripts&#34;</span><span class=err>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;start&#34;</span><span class=p>:</span> <span class=s2>&#34;node index.js&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;dev&#34;</span><span class=p>:</span> <span class=s2>&#34;nodemon index.js&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span><span class=err>,</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=coding>Coding<a hidden class=anchor aria-hidden=true href=#coding>#</a></h3><p>Create a new file named <code>index.js</code> and add the following code to it.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1>1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2>2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3>3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4>4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5>5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6>6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7>7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>import</span> <span class=nx>express</span> <span class=nx>from</span> <span class=s2>&#34;express&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>PORT</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;./config.js&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>app</span> <span class=o>=</span> <span class=nx>express</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>listen</span><span class=p>(</span><span class=nx>PORT</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`Server is running on port </span><span class=si>${</span><span class=nx>PORT</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><p>The <code>PORT</code> variable is imported from a file named <code>config.js</code> which would be created next. The <code>config.js</code> file would look like this:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>PORT</span> <span class=o>=</span> <span class=mi>5000</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=running-the-server>Running the server<a hidden class=anchor aria-hidden=true href=#running-the-server>#</a></h3><p>To start the server, run the following command in the terminal.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm run dev
</span></span></code></pre></td></tr></table></div></div><p>This would start the server on port <code>5000</code>. To verify that the server is running, open a web browser and navigate to <code>http://localhost:5000</code>. You should see a message that says <code>Cannot GET /</code>.</p><h3 id=epilogue>Epilogue<a hidden class=anchor aria-hidden=true href=#epilogue>#</a></h3><p>If you want to follow this tutorial section by section please refer to the git commit history.</p><h2 id=02-http-request>02-HTTP request<a hidden class=anchor aria-hidden=true href=#02-http-request>#</a></h2><h3 id=http-request-methods>HTTP request methods<a hidden class=anchor aria-hidden=true href=#http-request-methods>#</a></h3><ul><li>GET: Retrieve data from the server</li><li>POST: Send data to the server</li><li>PUT: Update data on the server</li><li>DELETE: Remove data from the server</li><li>PATCH: Update data partially on the server</li><li>HEAD: Retrieve headers from the server</li><li>OPTIONS: Retrieve supported methods from the server</li></ul><h3 id=http-response-code>HTTP response code<a hidden class=anchor aria-hidden=true href=#http-response-code>#</a></h3><ul><li>200: OK</li><li>201: Created</li><li>204: No Content</li><li>400: Bad Request</li><li>401: Unauthorized</li><li>403: Forbidden</li><li>404: Not Found</li><li>405: Method Not Allowed</li><li>500: Internal Server Error</li><li>503: Service Unavailable</li></ul><h3 id=sending-an-http-request-using-express>Sending an HTTP request using express<a hidden class=anchor aria-hidden=true href=#sending-an-http-request-using-express>#</a></h3><p>Open the previously created <code>index.js</code> file and add the following code:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1>1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2>2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3>3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>req</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>234</span><span class=p>).</span><span class=nx>send</span><span class=p>(</span><span class=s1>&#39;Hello from server&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><p>The total code will be as follows:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1> 1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2> 2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3> 3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4> 4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5> 5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6> 6</a>
</span><span class=lnt id=hl-9-7><a class=lnlinks href=#hl-9-7> 7</a>
</span><span class=lnt id=hl-9-8><a class=lnlinks href=#hl-9-8> 8</a>
</span><span class=lnt id=hl-9-9><a class=lnlinks href=#hl-9-9> 9</a>
</span><span class=lnt id=hl-9-10><a class=lnlinks href=#hl-9-10>10</a>
</span><span class=lnt id=hl-9-11><a class=lnlinks href=#hl-9-11>11</a>
</span><span class=lnt id=hl-9-12><a class=lnlinks href=#hl-9-12>12</a>
</span><span class=lnt id=hl-9-13><a class=lnlinks href=#hl-9-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>import</span> <span class=nx>express</span> <span class=nx>from</span> <span class=s2>&#34;express&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>PORT</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;./config.js&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>app</span> <span class=o>=</span> <span class=nx>express</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>req</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>234</span><span class=p>).</span><span class=nx>send</span><span class=p>(</span><span class=s1>&#39;Hello from server&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>listen</span><span class=p>(</span><span class=nx>PORT</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`Server is running on port </span><span class=si>${</span><span class=nx>PORT</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><p>In the above code, we have created a simple server that listens on port 3000 and sends a response with status code 234 and a message &ldquo;Hello from server&rdquo; when a request is made to the root URL.</p><p>Now to verify this you can run <code>npm run dev</code> and open the link given in the terminal. You will see the message &ldquo;Hello from server&rdquo; on the browser. To verify the status code, you can open the developer tools and check the network tab.</p><p>Another method to verify the status code is to use postman. You can install postman from <a href=https://www.postman.com/downloads/>here</a>. Postman is a tool that allows you to send HTTP requests and view the response. You can use postman to send a GET request to the server and check the status code and response.</p><h2 id=03mongodb>03=MongoDB<a hidden class=anchor aria-hidden=true href=#03mongodb>#</a></h2><h3 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h3><p>MongoDB is a NoSQL database that stores data in JSON-like documents. It is a popular choice for many modern web applications because it can handle large amounts of data and is scalable. There are two ways to access MongoDB. One way is to install the MongoDB server on your computer and use the command line interface to interact with it. The other way is to use a cloud-based service like MongoDB Atlas. Here we will focus on using MongoDB Atlas.</p><h3 id=prerequisites>Prerequisites<a hidden class=anchor aria-hidden=true href=#prerequisites>#</a></h3><p>Before you start, you will need to have a MongoDB Atlas account. You can sign up for free at <a href=https://www.mongodb.com/cloud/atlas>https://www.mongodb.com/cloud/atlas</a>. Create a new account and proceed. Be sure to select the free tier option when creating your cluster if yo are planning to use it as a hobby project and don&rsquo;t wish to pay for the services.</p><h3 id=setting-up-mongodb-atlas>Setting up MongoDB Atlas<a hidden class=anchor aria-hidden=true href=#setting-up-mongodb-atlas>#</a></h3><p>Create a strong password and store it in a safe place. You will need it to connect to your database and authenticate with <strong>username</strong> and <strong>password</strong>. Name the db cluster and click <strong>finish</strong>. This will take a couple of minutes to set up. Once it&rsquo;s done, click on the <strong>connect</strong> button. Click on <strong>drivers</strong> and select the latest version of <strong>Node.js</strong>. Copy the connection string and store it in <code>backend/config.js</code> file. <strong>Note that we will store the password in this file itself so be sure to remove this file from the git repository and add it to the <code>.gitignore</code> file.</strong></p><h3 id=connecting-to-mongodb-atlas>Connecting to MongoDB Atlas<a hidden class=anchor aria-hidden=true href=#connecting-to-mongodb-atlas>#</a></h3><p>Copy the connection string from the MongoDB Atlas dashboard and paste it in the <code>backend/config.js</code> file. Replace the password with the password you used to create the cluster. The connection string should look something like this:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>mongoDBURL</span> <span class=o>=</span> <span class=s1>&#39;mongodb+srv://&lt;username&gt;:&lt;password&gt;@&lt;cluster&gt;.mongodb.net/&lt;dbname&gt;?retryWrites=true&amp;w=majority&#39;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=connecting-to-mongodb-using-mongoose>Connecting to MongoDB using Mongoose<a hidden class=anchor aria-hidden=true href=#connecting-to-mongodb-using-mongoose>#</a></h3><p>Mongoose is an Object Data Modeling (ODM) library for MongoDB and Node.js. It manages relationships between data, provides schema validation, and is used to translate between objects in code and the representation of those objects in MongoDB. To connect to MongoDB using Mongoose, you will need to install the <code>mongoose</code> package. Run the following command in the terminal:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm i mongoose
</span></span></code></pre></td></tr></table></div></div><p>Now the <code>index.js</code> file in the <code>backend</code> directory should look something like this:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1> 1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2> 2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3> 3</a>
</span><span class=lnt id=hl-12-4><a class=lnlinks href=#hl-12-4> 4</a>
</span><span class=lnt id=hl-12-5><a class=lnlinks href=#hl-12-5> 5</a>
</span><span class=lnt id=hl-12-6><a class=lnlinks href=#hl-12-6> 6</a>
</span><span class=lnt id=hl-12-7><a class=lnlinks href=#hl-12-7> 7</a>
</span><span class=lnt id=hl-12-8><a class=lnlinks href=#hl-12-8> 8</a>
</span><span class=lnt id=hl-12-9><a class=lnlinks href=#hl-12-9> 9</a>
</span><span class=lnt id=hl-12-10><a class=lnlinks href=#hl-12-10>10</a>
</span><span class=lnt id=hl-12-11><a class=lnlinks href=#hl-12-11>11</a>
</span><span class=lnt id=hl-12-12><a class=lnlinks href=#hl-12-12>12</a>
</span><span class=lnt id=hl-12-13><a class=lnlinks href=#hl-12-13>13</a>
</span><span class=lnt id=hl-12-14><a class=lnlinks href=#hl-12-14>14</a>
</span><span class=lnt id=hl-12-15><a class=lnlinks href=#hl-12-15>15</a>
</span><span class=lnt id=hl-12-16><a class=lnlinks href=#hl-12-16>16</a>
</span><span class=lnt id=hl-12-17><a class=lnlinks href=#hl-12-17>17</a>
</span><span class=lnt id=hl-12-18><a class=lnlinks href=#hl-12-18>18</a>
</span><span class=lnt id=hl-12-19><a class=lnlinks href=#hl-12-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>import</span> <span class=nx>express</span> <span class=nx>from</span> <span class=s2>&#34;express&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>PORT</span><span class=p>,</span> <span class=nx>mongoDBURL</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;./config.js&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>mongoose</span> <span class=nx>from</span> <span class=s2>&#34;mongoose&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>app</span> <span class=o>=</span> <span class=nx>express</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>req</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>234</span><span class=p>).</span><span class=nx>send</span><span class=p>(</span><span class=s1>&#39;Hello from server&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>mongoose</span><span class=p>.</span><span class=nx>connect</span><span class=p>(</span><span class=nx>mongoDBURL</span><span class=p>).</span><span class=nx>then</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Connected to MongoDB&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>app</span><span class=p>.</span><span class=nx>listen</span><span class=p>(</span><span class=nx>PORT</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`Server is running on port </span><span class=si>${</span><span class=nx>PORT</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>}).</span><span class=k>catch</span><span class=p>((</span><span class=nx>err</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Failed to connect to MongoDB&#39;</span><span class=p>,</span> <span class=nx>err</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><p>Hwew we include the <code>mongoose</code> package and use the <code>connect</code> method to connect to the MongoDB database. If the connection is successful, we start the server. If the connection fails, we log the error to the console. Now you can run the server using the following command:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1>1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> backend <span class=c1>#if you are not already in the backend directory</span>
</span></span><span class=line><span class=cl>npm run dev
</span></span></code></pre></td></tr></table></div></div><p>If the connection is successful, you should see the following message in the terminal:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1>1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Connected to MongoDB
</span></span><span class=line><span class=cl>Server is running on port 5000
</span></span></code></pre></td></tr></table></div></div><h2 id=04-book-model>04-Book model<a hidden class=anchor aria-hidden=true href=#04-book-model>#</a></h2><p>To create a new model, we need to create a new file in the <code>backend/models</code> directory. Let&rsquo;s create a new file called <code>bookModel.js</code> and add the following code:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1> 1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2> 2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3> 3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4> 4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5> 5</a>
</span><span class=lnt id=hl-15-6><a class=lnlinks href=#hl-15-6> 6</a>
</span><span class=lnt id=hl-15-7><a class=lnlinks href=#hl-15-7> 7</a>
</span><span class=lnt id=hl-15-8><a class=lnlinks href=#hl-15-8> 8</a>
</span><span class=lnt id=hl-15-9><a class=lnlinks href=#hl-15-9> 9</a>
</span><span class=lnt id=hl-15-10><a class=lnlinks href=#hl-15-10>10</a>
</span><span class=lnt id=hl-15-11><a class=lnlinks href=#hl-15-11>11</a>
</span><span class=lnt id=hl-15-12><a class=lnlinks href=#hl-15-12>12</a>
</span><span class=lnt id=hl-15-13><a class=lnlinks href=#hl-15-13>13</a>
</span><span class=lnt id=hl-15-14><a class=lnlinks href=#hl-15-14>14</a>
</span><span class=lnt id=hl-15-15><a class=lnlinks href=#hl-15-15>15</a>
</span><span class=lnt id=hl-15-16><a class=lnlinks href=#hl-15-16>16</a>
</span><span class=lnt id=hl-15-17><a class=lnlinks href=#hl-15-17>17</a>
</span><span class=lnt id=hl-15-18><a class=lnlinks href=#hl-15-18>18</a>
</span><span class=lnt id=hl-15-19><a class=lnlinks href=#hl-15-19>19</a>
</span><span class=lnt id=hl-15-20><a class=lnlinks href=#hl-15-20>20</a>
</span><span class=lnt id=hl-15-21><a class=lnlinks href=#hl-15-21>21</a>
</span><span class=lnt id=hl-15-22><a class=lnlinks href=#hl-15-22>22</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>import</span> <span class=nx>mongoose</span> <span class=nx>from</span> <span class=s1>&#39;mongoose&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>bookSchema</span> <span class=o>=</span> <span class=nx>mongoose</span><span class=p>.</span><span class=nx>Schema</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>title</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>type</span><span class=o>:</span> <span class=nb>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>required</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nx>author</span> <span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>type</span><span class=o>:</span> <span class=nb>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>required</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nx>publishYear</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>type</span><span class=o>:</span> <span class=nb>Number</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>required</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>timestamps</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>Book</span> <span class=o>=</span> <span class=nx>mongoose</span><span class=p>.</span><span class=nx>model</span><span class=p>(</span><span class=s1>&#39;Book&#39;</span><span class=p>,</span> <span class=nx>bookSchema</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><p>This code creates a new schema for the book model. The schema defines the structure of the document that will be stored in the database. The <code>title</code>, <code>author</code>, and <code>publishYear</code> fields are required and of type <code>String</code>, <code>String</code>, and <code>Number</code> respectively. The <code>timestamps</code> option creates two fields, <code>createdAt</code> and <code>updatedAt</code>, to store the creation and update times of the document. The <code>Book</code> model is created using the schema and exported.</p><h2 id=05-saving-a-book-using-mongoose>05-Saving a book using Mongoose<a hidden class=anchor aria-hidden=true href=#05-saving-a-book-using-mongoose>#</a></h2><p>To save a book to the database, we need to create a new route in index.js file in the <code>backend</code> directory. Let&rsquo;s create a new route called <code>/books</code> and add the following code:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1> 1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2> 2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3> 3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4> 4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5> 5</a>
</span><span class=lnt id=hl-16-6><a class=lnlinks href=#hl-16-6> 6</a>
</span><span class=lnt id=hl-16-7><a class=lnlinks href=#hl-16-7> 7</a>
</span><span class=lnt id=hl-16-8><a class=lnlinks href=#hl-16-8> 8</a>
</span><span class=lnt id=hl-16-9><a class=lnlinks href=#hl-16-9> 9</a>
</span><span class=lnt id=hl-16-10><a class=lnlinks href=#hl-16-10>10</a>
</span><span class=lnt id=hl-16-11><a class=lnlinks href=#hl-16-11>11</a>
</span><span class=lnt id=hl-16-12><a class=lnlinks href=#hl-16-12>12</a>
</span><span class=lnt id=hl-16-13><a class=lnlinks href=#hl-16-13>13</a>
</span><span class=lnt id=hl-16-14><a class=lnlinks href=#hl-16-14>14</a>
</span><span class=lnt id=hl-16-15><a class=lnlinks href=#hl-16-15>15</a>
</span><span class=lnt id=hl-16-16><a class=lnlinks href=#hl-16-16>16</a>
</span><span class=lnt id=hl-16-17><a class=lnlinks href=#hl-16-17>17</a>
</span><span class=lnt id=hl-16-18><a class=lnlinks href=#hl-16-18>18</a>
</span><span class=lnt id=hl-16-19><a class=lnlinks href=#hl-16-19>19</a>
</span><span class=lnt id=hl-16-20><a class=lnlinks href=#hl-16-20>20</a>
</span><span class=lnt id=hl-16-21><a class=lnlinks href=#hl-16-21>21</a>
</span><span class=lnt id=hl-16-22><a class=lnlinks href=#hl-16-22>22</a>
</span><span class=lnt id=hl-16-23><a class=lnlinks href=#hl-16-23>23</a>
</span><span class=lnt id=hl-16-24><a class=lnlinks href=#hl-16-24>24</a>
</span><span class=lnt id=hl-16-25><a class=lnlinks href=#hl-16-25>25</a>
</span><span class=lnt id=hl-16-26><a class=lnlinks href=#hl-16-26>26</a>
</span><span class=lnt id=hl-16-27><a class=lnlinks href=#hl-16-27>27</a>
</span><span class=lnt id=hl-16-28><a class=lnlinks href=#hl-16-28>28</a>
</span><span class=lnt id=hl-16-29><a class=lnlinks href=#hl-16-29>29</a>
</span><span class=lnt id=hl-16-30><a class=lnlinks href=#hl-16-30>30</a>
</span><span class=lnt id=hl-16-31><a class=lnlinks href=#hl-16-31>31</a>
</span><span class=lnt id=hl-16-32><a class=lnlinks href=#hl-16-32>32</a>
</span><span class=lnt id=hl-16-33><a class=lnlinks href=#hl-16-33>33</a>
</span><span class=lnt id=hl-16-34><a class=lnlinks href=#hl-16-34>34</a>
</span><span class=lnt id=hl-16-35><a class=lnlinks href=#hl-16-35>35</a>
</span><span class=lnt id=hl-16-36><a class=lnlinks href=#hl-16-36>36</a>
</span><span class=lnt id=hl-16-37><a class=lnlinks href=#hl-16-37>37</a>
</span><span class=lnt id=hl-16-38><a class=lnlinks href=#hl-16-38>38</a>
</span><span class=lnt id=hl-16-39><a class=lnlinks href=#hl-16-39>39</a>
</span><span class=lnt id=hl-16-40><a class=lnlinks href=#hl-16-40>40</a>
</span><span class=lnt id=hl-16-41><a class=lnlinks href=#hl-16-41>41</a>
</span><span class=lnt id=hl-16-42><a class=lnlinks href=#hl-16-42>42</a>
</span><span class=lnt id=hl-16-43><a class=lnlinks href=#hl-16-43>43</a>
</span><span class=lnt id=hl-16-44><a class=lnlinks href=#hl-16-44>44</a>
</span><span class=lnt id=hl-16-45><a class=lnlinks href=#hl-16-45>45</a>
</span><span class=lnt id=hl-16-46><a class=lnlinks href=#hl-16-46>46</a>
</span><span class=lnt id=hl-16-47><a class=lnlinks href=#hl-16-47>47</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>import</span> <span class=nx>express</span><span class=p>,</span> <span class=p>{</span> <span class=nx>response</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;express&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>PORT</span><span class=p>,</span> <span class=nx>mongoDBURL</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;./config.js&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>mongoose</span> <span class=nx>from</span> <span class=s2>&#34;mongoose&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>Book</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;./models/bookModel.js&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>app</span> <span class=o>=</span> <span class=nx>express</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>express</span><span class=p>.</span><span class=nx>json</span><span class=p>());</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>req</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>234</span><span class=p>).</span><span class=nx>send</span><span class=p>(</span><span class=s1>&#39;Hello from server&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=s1>&#39;/books&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=o>!</span><span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>title</span> <span class=o>||</span>
</span></span><span class=line><span class=cl>            <span class=o>!</span><span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>author</span> <span class=o>||</span>
</span></span><span class=line><span class=cl>            <span class=o>!</span><span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>publishYear</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>400</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span>
</span></span><span class=line><span class=cl>                <span class=nx>message</span><span class=o>:</span> <span class=s1>&#39;Please fill all required fields&#39;</span>
</span></span><span class=line><span class=cl>            <span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>newBook</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>title</span><span class=o>:</span> <span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>title</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>author</span><span class=o>:</span> <span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>author</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>publishYear</span><span class=o>:</span> <span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>publishYear</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>book</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>Book</span><span class=p>.</span><span class=nx>create</span><span class=p>(</span><span class=nx>newBook</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Send a response back to the client
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>201</span><span class=p>).</span><span class=nx>send</span><span class=p>(</span><span class=nx>book</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>500</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>mongoose</span><span class=p>.</span><span class=nx>connect</span><span class=p>(</span><span class=nx>mongoDBURL</span><span class=p>).</span><span class=nx>then</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Connected to MongoDB&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>app</span><span class=p>.</span><span class=nx>listen</span><span class=p>(</span><span class=nx>PORT</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`Server is running on port </span><span class=si>${</span><span class=nx>PORT</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>}).</span><span class=k>catch</span><span class=p>((</span><span class=nx>err</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Failed to connect to MongoDB&#39;</span><span class=p>,</span> <span class=nx>err</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><p>Here we have added a new route <code>/books</code> that listens for POST requests. When a POST request is received, we check if the required fields are present in the request body. If they are, we create a new book using the <code>Book</code> model and send a response back to the client. If the required fields are not present, we send a 400 status code with a message asking the client to fill all required fields. If an error occurs, we log the error to the console and send a 500 status code with the error message to the client.</p><p>Note that we have added <code>app.use(express.json());</code> to parse the request body as JSON. This is required to access the request body in the POST request.</p><p>Now you can run the server using the following command:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-17-1><a class=lnlinks href=#hl-17-1>1</a>
</span><span class=lnt id=hl-17-2><a class=lnlinks href=#hl-17-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> backend <span class=c1>#if you are not already in the backend directory</span>
</span></span><span class=line><span class=cl>npm run dev
</span></span></code></pre></td></tr></table></div></div><p>This code cannot be tested via the browser and should be tested via a REST client like <a href=https://www.postman.com/>Postman</a>. You can use the following code to test the route:
<strong>Postman set up</strong>
URL: <code>http://localhost:5000/books</code><br>Method: <code>POST</code><br>Body: <code>raw</code><br>Headers: <code>Content-Type: application/json</code>\</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1>1</a>
</span><span class=lnt id=hl-18-2><a class=lnlinks href=#hl-18-2>2</a>
</span><span class=lnt id=hl-18-3><a class=lnlinks href=#hl-18-3>3</a>
</span><span class=lnt id=hl-18-4><a class=lnlinks href=#hl-18-4>4</a>
</span><span class=lnt id=hl-18-5><a class=lnlinks href=#hl-18-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;name&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;author&#34;</span><span class=p>:</span> <span class=s2>&#34;authname&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;publishYear&#34;</span><span class=p>:</span> <span class=mi>2077</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>If the request is successful, you should see the following message in the terminal:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-19-1><a class=lnlinks href=#hl-19-1>1</a>
</span><span class=lnt id=hl-19-2><a class=lnlinks href=#hl-19-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Connected to MongoDB
</span></span><span class=line><span class=cl>Server is running on port 5000
</span></span></code></pre></td></tr></table></div></div><p>And this output in the postman shell (might differ in your case):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-20-1><a class=lnlinks href=#hl-20-1>1</a>
</span><span class=lnt id=hl-20-2><a class=lnlinks href=#hl-20-2>2</a>
</span><span class=lnt id=hl-20-3><a class=lnlinks href=#hl-20-3>3</a>
</span><span class=lnt id=hl-20-4><a class=lnlinks href=#hl-20-4>4</a>
</span><span class=lnt id=hl-20-5><a class=lnlinks href=#hl-20-5>5</a>
</span><span class=lnt id=hl-20-6><a class=lnlinks href=#hl-20-6>6</a>
</span><span class=lnt id=hl-20-7><a class=lnlinks href=#hl-20-7>7</a>
</span><span class=lnt id=hl-20-8><a class=lnlinks href=#hl-20-8>8</a>
</span><span class=lnt id=hl-20-9><a class=lnlinks href=#hl-20-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;name&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;author&#34;</span><span class=p>:</span> <span class=s2>&#34;authname&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;publishYear&#34;</span><span class=p>:</span> <span class=mi>2077</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;_id&#34;</span><span class=p>:</span> <span class=s2>&#34;60f3e3e3e3e3e3e3e3e3e3e3&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;createdAt&#34;</span><span class=p>:</span> <span class=s2>&#34;2021-07-18T14:00:00.000Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;updatedAt&#34;</span><span class=p>:</span> <span class=s2>&#34;2021-07-18T14:00:00.000Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;__v&#34;</span><span class=p>:</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=06-getting-books-from-the-database>06-Getting books from the database<a hidden class=anchor aria-hidden=true href=#06-getting-books-from-the-database>#</a></h2><p>In the previous module we have used the <strong>post</strong> method to add books to the database. In this module we will use the <strong>get</strong> method to retrieve books from the database. In order to d othis we can create a new <code>get</code> route for the <code>/books</code> endpoint.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-21-1><a class=lnlinks href=#hl-21-1>1</a>
</span><span class=lnt id=hl-21-2><a class=lnlinks href=#hl-21-2>2</a>
</span><span class=lnt id=hl-21-3><a class=lnlinks href=#hl-21-3>3</a>
</span><span class=lnt id=hl-21-4><a class=lnlinks href=#hl-21-4>4</a>
</span><span class=lnt id=hl-21-5><a class=lnlinks href=#hl-21-5>5</a>
</span><span class=lnt id=hl-21-6><a class=lnlinks href=#hl-21-6>6</a>
</span><span class=lnt id=hl-21-7><a class=lnlinks href=#hl-21-7>7</a>
</span><span class=lnt id=hl-21-8><a class=lnlinks href=#hl-21-8>8</a>
</span><span class=lnt id=hl-21-9><a class=lnlinks href=#hl-21-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/books&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>books</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>Book</span><span class=p>.</span><span class=nx>find</span><span class=p>({});</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>200</span><span class=p>).</span><span class=nx>send</span><span class=p>(</span><span class=nx>books</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>500</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><p>This method can further be modified for a more detailed search by modifying the json output.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1> 1</a>
</span><span class=lnt id=hl-22-2><a class=lnlinks href=#hl-22-2> 2</a>
</span><span class=lnt id=hl-22-3><a class=lnlinks href=#hl-22-3> 3</a>
</span><span class=lnt id=hl-22-4><a class=lnlinks href=#hl-22-4> 4</a>
</span><span class=lnt id=hl-22-5><a class=lnlinks href=#hl-22-5> 5</a>
</span><span class=lnt id=hl-22-6><a class=lnlinks href=#hl-22-6> 6</a>
</span><span class=lnt id=hl-22-7><a class=lnlinks href=#hl-22-7> 7</a>
</span><span class=lnt id=hl-22-8><a class=lnlinks href=#hl-22-8> 8</a>
</span><span class=lnt id=hl-22-9><a class=lnlinks href=#hl-22-9> 9</a>
</span><span class=lnt id=hl-22-10><a class=lnlinks href=#hl-22-10>10</a>
</span><span class=lnt id=hl-22-11><a class=lnlinks href=#hl-22-11>11</a>
</span><span class=lnt id=hl-22-12><a class=lnlinks href=#hl-22-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/books&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>books</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>Book</span><span class=p>.</span><span class=nx>find</span><span class=p>({});</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>200</span><span class=p>).</span><span class=nx>json</span><span class=p>({</span> 
</span></span><span class=line><span class=cl>            <span class=nx>count</span><span class=o>:</span> <span class=nx>books</span><span class=p>.</span><span class=nx>length</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>data</span><span class=o>:</span> <span class=nx>books</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>500</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><p>Similarly to the previous module the endpoints are to be tested using Postman. But instead of using the <strong>post</strong> method, we will use the <strong>get</strong> method.</p><p>The final output (from postman) should look like this:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-23-1><a class=lnlinks href=#hl-23-1> 1</a>
</span><span class=lnt id=hl-23-2><a class=lnlinks href=#hl-23-2> 2</a>
</span><span class=lnt id=hl-23-3><a class=lnlinks href=#hl-23-3> 3</a>
</span><span class=lnt id=hl-23-4><a class=lnlinks href=#hl-23-4> 4</a>
</span><span class=lnt id=hl-23-5><a class=lnlinks href=#hl-23-5> 5</a>
</span><span class=lnt id=hl-23-6><a class=lnlinks href=#hl-23-6> 6</a>
</span><span class=lnt id=hl-23-7><a class=lnlinks href=#hl-23-7> 7</a>
</span><span class=lnt id=hl-23-8><a class=lnlinks href=#hl-23-8> 8</a>
</span><span class=lnt id=hl-23-9><a class=lnlinks href=#hl-23-9> 9</a>
</span><span class=lnt id=hl-23-10><a class=lnlinks href=#hl-23-10>10</a>
</span><span class=lnt id=hl-23-11><a class=lnlinks href=#hl-23-11>11</a>
</span><span class=lnt id=hl-23-12><a class=lnlinks href=#hl-23-12>12</a>
</span><span class=lnt id=hl-23-13><a class=lnlinks href=#hl-23-13>13</a>
</span><span class=lnt id=hl-23-14><a class=lnlinks href=#hl-23-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;count&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;data&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;_id&#34;</span><span class=p>:</span> <span class=s2>&#34;65ef564e810c88d123eea864&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;name&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;author&#34;</span><span class=p>:</span> <span class=s2>&#34;authname&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;publishYear&#34;</span><span class=p>:</span> <span class=mi>2077</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;createdAt&#34;</span><span class=p>:</span> <span class=s2>&#34;2024-03-11T19:06:55.000Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;updatedAt&#34;</span><span class=p>:</span> <span class=s2>&#34;2024-03-11T19:06:55.000Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;__v&#34;</span><span class=p>:</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=07-getting-books-by-id>07-Getting books by id<a hidden class=anchor aria-hidden=true href=#07-getting-books-by-id>#</a></h2><p>What if we want to retrieve a specific book from the database? We can do this by creating a new <code>get</code> route for the <code>/books/:id</code> endpoint.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-24-1><a class=lnlinks href=#hl-24-1> 1</a>
</span><span class=lnt id=hl-24-2><a class=lnlinks href=#hl-24-2> 2</a>
</span><span class=lnt id=hl-24-3><a class=lnlinks href=#hl-24-3> 3</a>
</span><span class=lnt id=hl-24-4><a class=lnlinks href=#hl-24-4> 4</a>
</span><span class=lnt id=hl-24-5><a class=lnlinks href=#hl-24-5> 5</a>
</span><span class=lnt id=hl-24-6><a class=lnlinks href=#hl-24-6> 6</a>
</span><span class=lnt id=hl-24-7><a class=lnlinks href=#hl-24-7> 7</a>
</span><span class=lnt id=hl-24-8><a class=lnlinks href=#hl-24-8> 8</a>
</span><span class=lnt id=hl-24-9><a class=lnlinks href=#hl-24-9> 9</a>
</span><span class=lnt id=hl-24-10><a class=lnlinks href=#hl-24-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/books/:id&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=p>{</span> <span class=nx>id</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>req</span><span class=p>.</span><span class=nx>params</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>book</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>Book</span><span class=p>.</span><span class=nx>findById</span><span class=p>(</span><span class=nx>id</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>200</span><span class=p>).</span><span class=nx>json</span><span class=p>(</span><span class=nx>book</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>500</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><p>Here the <code>:id</code> is a route parameter which is used to retrieve the book with the given id, this id is then used to query the database and retrieve the book.</p><p>In my case the id was <code>65ef564e810c88d123eea864</code>. So the argument in postman must be using the <strong>get</strong> method and the url must be <code>http://localhost:3000/books/65ef564e810c88d123eea864</code>. The final output (from postman) should look like this:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-25-1><a class=lnlinks href=#hl-25-1>1</a>
</span><span class=lnt id=hl-25-2><a class=lnlinks href=#hl-25-2>2</a>
</span><span class=lnt id=hl-25-3><a class=lnlinks href=#hl-25-3>3</a>
</span><span class=lnt id=hl-25-4><a class=lnlinks href=#hl-25-4>4</a>
</span><span class=lnt id=hl-25-5><a class=lnlinks href=#hl-25-5>5</a>
</span><span class=lnt id=hl-25-6><a class=lnlinks href=#hl-25-6>6</a>
</span><span class=lnt id=hl-25-7><a class=lnlinks href=#hl-25-7>7</a>
</span><span class=lnt id=hl-25-8><a class=lnlinks href=#hl-25-8>8</a>
</span><span class=lnt id=hl-25-9><a class=lnlinks href=#hl-25-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;_id&#34;</span><span class=p>:</span> <span class=s2>&#34;65ef564e810c88d123eea864&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;name&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;author&#34;</span><span class=p>:</span> <span class=s2>&#34;authname&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;publishYear&#34;</span><span class=p>:</span> <span class=mi>2077</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;createdAt&#34;</span><span class=p>:</span> <span class=s2>&#34;2024-03-11T19:06:55.000Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;updatedAt&#34;</span><span class=p>:</span> <span class=s2>&#34;2024-03-11T19:06:55.000Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;__v&#34;</span><span class=p>:</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=08-updating-books>08-Updating books<a hidden class=anchor aria-hidden=true href=#08-updating-books>#</a></h2><h3 id=use-of-the-put-method>Use of the <code>put</code> method<a hidden class=anchor aria-hidden=true href=#use-of-the-put-method>#</a></h3><p>The <code>put</code> method is used to update a book in the database. In order to do this we can create a new <code>put</code> route for the <code>/books/:id</code> endpoint.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-26-1><a class=lnlinks href=#hl-26-1> 1</a>
</span><span class=lnt id=hl-26-2><a class=lnlinks href=#hl-26-2> 2</a>
</span><span class=lnt id=hl-26-3><a class=lnlinks href=#hl-26-3> 3</a>
</span><span class=lnt id=hl-26-4><a class=lnlinks href=#hl-26-4> 4</a>
</span><span class=lnt id=hl-26-5><a class=lnlinks href=#hl-26-5> 5</a>
</span><span class=lnt id=hl-26-6><a class=lnlinks href=#hl-26-6> 6</a>
</span><span class=lnt id=hl-26-7><a class=lnlinks href=#hl-26-7> 7</a>
</span><span class=lnt id=hl-26-8><a class=lnlinks href=#hl-26-8> 8</a>
</span><span class=lnt id=hl-26-9><a class=lnlinks href=#hl-26-9> 9</a>
</span><span class=lnt id=hl-26-10><a class=lnlinks href=#hl-26-10>10</a>
</span><span class=lnt id=hl-26-11><a class=lnlinks href=#hl-26-11>11</a>
</span><span class=lnt id=hl-26-12><a class=lnlinks href=#hl-26-12>12</a>
</span><span class=lnt id=hl-26-13><a class=lnlinks href=#hl-26-13>13</a>
</span><span class=lnt id=hl-26-14><a class=lnlinks href=#hl-26-14>14</a>
</span><span class=lnt id=hl-26-15><a class=lnlinks href=#hl-26-15>15</a>
</span><span class=lnt id=hl-26-16><a class=lnlinks href=#hl-26-16>16</a>
</span><span class=lnt id=hl-26-17><a class=lnlinks href=#hl-26-17>17</a>
</span><span class=lnt id=hl-26-18><a class=lnlinks href=#hl-26-18>18</a>
</span><span class=lnt id=hl-26-19><a class=lnlinks href=#hl-26-19>19</a>
</span><span class=lnt id=hl-26-20><a class=lnlinks href=#hl-26-20>20</a>
</span><span class=lnt id=hl-26-21><a class=lnlinks href=#hl-26-21>21</a>
</span><span class=lnt id=hl-26-22><a class=lnlinks href=#hl-26-22>22</a>
</span><span class=lnt id=hl-26-23><a class=lnlinks href=#hl-26-23>23</a>
</span><span class=lnt id=hl-26-24><a class=lnlinks href=#hl-26-24>24</a>
</span><span class=lnt id=hl-26-25><a class=lnlinks href=#hl-26-25>25</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>put</span><span class=p>(</span><span class=s1>&#39;/books/:id&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=o>!</span><span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>title</span> <span class=o>||</span>
</span></span><span class=line><span class=cl>            <span class=o>!</span><span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>author</span> <span class=o>||</span>
</span></span><span class=line><span class=cl>            <span class=o>!</span><span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>publishYear</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>400</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span>
</span></span><span class=line><span class=cl>                <span class=nx>message</span><span class=o>:</span> <span class=s2>&#34;Please fill all required fields&#34;</span><span class=p>,</span>    
</span></span><span class=line><span class=cl>            <span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=p>{</span> <span class=nx>id</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>req</span><span class=p>.</span><span class=nx>params</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>Book</span><span class=p>.</span><span class=nx>findByIdAndUpdate</span><span class=p>(</span><span class=nx>id</span><span class=p>,</span> <span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>result</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>404</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=s2>&#34;Book not found&#34;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>200</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=s2>&#34;Book updated successfully&#34;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>500</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><p>This is a route handler for a PUT request in an Express.js application. It&rsquo;s designed to update a book record in a database. Here&rsquo;s a step-by-step explanation:</p><ol><li><p><code>app.put('/books/:id', async (req, res) => {...}</code>: This line sets up a route for PUT requests to &lsquo;/books/:id&rsquo;. The &lsquo;:id&rsquo; is a route parameter that will be replaced with the ID of the book to update.</p></li><li><p>Inside the route handler, it first checks if the required fields (<code>title</code>, <code>author</code>, <code>publishYear</code>) are provided in the request body. If not, it sends a 400 status code (Bad Request) with a message.</p></li><li><p><code>const { id } = req.params;</code>: This line extracts the &lsquo;id&rsquo; from the request parameters.</p></li><li><p><code>const result = await Book.findByIdAndUpdate(id, req.body);</code>: This line uses the <code>findByIdAndUpdate</code> method of the <code>Book</code> model to update the book with the given ID. It uses the data from the request body to update the book.</p></li><li><p>If the <code>findByIdAndUpdate</code> method does not find a book with the given ID, it returns <code>null</code>. The code checks for this and, if the book is not found, sends a 404 status code (Not Found) with a message.</p></li><li><p>If the book is found and updated, it sends a 200 status code (OK) with a success message.</p></li><li><p>If any error occurs during this process, it&rsquo;s caught in the <code>catch</code> block, logged to the console, and a 500 status code (Internal Server Error) is sent with the error message.</p></li></ol><p>Similar to the previous modules, the endpoints are to be tested using Postman. But instead of using the <code>post</code> method, we will use the <code>put</code> method.</p><p>Use the following postman settings</p><ul><li>Method: <code>put</code></li><li>URL: <code>http://localhost:3000/books/&lt;bookid></code></li><li>Body:<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-27-1><a class=lnlinks href=#hl-27-1>1</a>
</span><span class=lnt id=hl-27-2><a class=lnlinks href=#hl-27-2>2</a>
</span><span class=lnt id=hl-27-3><a class=lnlinks href=#hl-27-3>3</a>
</span><span class=lnt id=hl-27-4><a class=lnlinks href=#hl-27-4>4</a>
</span><span class=lnt id=hl-27-5><a class=lnlinks href=#hl-27-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;new title&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;author&#34;</span><span class=p>:</span> <span class=s2>&#34;new author&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;publishYear&#34;</span><span class=p>:</span> <span class=mi>2023</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><p>The final output (from postman) should look like this:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-28-1><a class=lnlinks href=#hl-28-1>1</a>
</span><span class=lnt id=hl-28-2><a class=lnlinks href=#hl-28-2>2</a>
</span><span class=lnt id=hl-28-3><a class=lnlinks href=#hl-28-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;message&#34;</span><span class=p>:</span> <span class=s2>&#34;Book updated successfully&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>This can be verified by using the <code>get</code> method and the url must be <code>http://localhost:5000/books/&lt;bookid></code>. The final output (from postman) should look like this:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-29-1><a class=lnlinks href=#hl-29-1>1</a>
</span><span class=lnt id=hl-29-2><a class=lnlinks href=#hl-29-2>2</a>
</span><span class=lnt id=hl-29-3><a class=lnlinks href=#hl-29-3>3</a>
</span><span class=lnt id=hl-29-4><a class=lnlinks href=#hl-29-4>4</a>
</span><span class=lnt id=hl-29-5><a class=lnlinks href=#hl-29-5>5</a>
</span><span class=lnt id=hl-29-6><a class=lnlinks href=#hl-29-6>6</a>
</span><span class=lnt id=hl-29-7><a class=lnlinks href=#hl-29-7>7</a>
</span><span class=lnt id=hl-29-8><a class=lnlinks href=#hl-29-8>8</a>
</span><span class=lnt id=hl-29-9><a class=lnlinks href=#hl-29-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;_id&#34;</span><span class=p>:</span> <span class=s2>&#34;65ef564e810c88d123eea864&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;newname&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;author&#34;</span><span class=p>:</span> <span class=s2>&#34;newauthname&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;publishYear&#34;</span><span class=p>:</span> <span class=mi>2023</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;createdAt&#34;</span><span class=p>:</span> <span class=s2>&#34;2024-03-11T19:06:55.000Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;updatedAt&#34;</span><span class=p>:</span> <span class=s2>&#34;2024-03-14T06:46:16.522Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;__v&#34;</span><span class=p>:</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=09-deleting-books-from-the-database>09-Deleting books from the database<a hidden class=anchor aria-hidden=true href=#09-deleting-books-from-the-database>#</a></h2><p>In the previous modules, we have used the <code>post</code> method to add books to the database, the <code>get</code> method to retrieve books from the database, and the <code>put</code> method to update books in the database. In this module, we will use the <code>delete</code> method to remove books from the database.</p><p>This is the following route to handle the <code>delete</code> method:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-30-1><a class=lnlinks href=#hl-30-1> 1</a>
</span><span class=lnt id=hl-30-2><a class=lnlinks href=#hl-30-2> 2</a>
</span><span class=lnt id=hl-30-3><a class=lnlinks href=#hl-30-3> 3</a>
</span><span class=lnt id=hl-30-4><a class=lnlinks href=#hl-30-4> 4</a>
</span><span class=lnt id=hl-30-5><a class=lnlinks href=#hl-30-5> 5</a>
</span><span class=lnt id=hl-30-6><a class=lnlinks href=#hl-30-6> 6</a>
</span><span class=lnt id=hl-30-7><a class=lnlinks href=#hl-30-7> 7</a>
</span><span class=lnt id=hl-30-8><a class=lnlinks href=#hl-30-8> 8</a>
</span><span class=lnt id=hl-30-9><a class=lnlinks href=#hl-30-9> 9</a>
</span><span class=lnt id=hl-30-10><a class=lnlinks href=#hl-30-10>10</a>
</span><span class=lnt id=hl-30-11><a class=lnlinks href=#hl-30-11>11</a>
</span><span class=lnt id=hl-30-12><a class=lnlinks href=#hl-30-12>12</a>
</span><span class=lnt id=hl-30-13><a class=lnlinks href=#hl-30-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=k>delete</span><span class=p>(</span><span class=s1>&#39;/books/:id&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=p>{</span> <span class=nx>id</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>req</span><span class=p>.</span><span class=nx>params</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>Book</span><span class=p>.</span><span class=nx>findByIdAndDelete</span><span class=p>(</span><span class=nx>id</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>result</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>404</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=s2>&#34;Book not found&#34;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>200</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=s2>&#34;Book deleted successfully&#34;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>500</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><p>The code is self-explanatory. It first checks if the book with the given ID exists in the database. If it does, it deletes the book and sends a 200 status code (OK) with a success message. If the book is not found, it sends a 404 status code (Not Found) with a message. If any error occurs during this process, it&rsquo;s caught in the <code>catch</code> block, logged to the console, and a 500 status code (Internal Server Error) is sent with the error message.</p><p>Similar to the previous modules, the endpoints are to be tested using Postman. But instead of using the <code>post</code> method, we will use the <code>delete</code> method.</p><p>First we shall add a new book to the database using the <code>post</code> method. Then we will use the <code>get</code> method to retrieve the book&rsquo;s id. Finally, we will use the <code>delete</code> method to remove the book from the database.</p><p><strong>Adding a new book</strong></p><ul><li>Method: <code>post</code></li><li>URL: <code>http://localhost:5000/books</code></li><li>Body:<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-31-1><a class=lnlinks href=#hl-31-1>1</a>
</span><span class=lnt id=hl-31-2><a class=lnlinks href=#hl-31-2>2</a>
</span><span class=lnt id=hl-31-3><a class=lnlinks href=#hl-31-3>3</a>
</span><span class=lnt id=hl-31-4><a class=lnlinks href=#hl-31-4>4</a>
</span><span class=lnt id=hl-31-5><a class=lnlinks href=#hl-31-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;deletethisbook&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;author&#34;</span><span class=p>:</span> <span class=s2>&#34;deletethisauthor&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;publishYear&#34;</span><span class=p>:</span> <span class=mi>2008</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><p><strong>Retrieving the book&rsquo;s id</strong></p><ul><li>Method: <code>get</code></li><li>URL: <code>http://localhost:5000/books</code></li><li>The final output (from postman) should look like this:<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-32-1><a class=lnlinks href=#hl-32-1> 1</a>
</span><span class=lnt id=hl-32-2><a class=lnlinks href=#hl-32-2> 2</a>
</span><span class=lnt id=hl-32-3><a class=lnlinks href=#hl-32-3> 3</a>
</span><span class=lnt id=hl-32-4><a class=lnlinks href=#hl-32-4> 4</a>
</span><span class=lnt id=hl-32-5><a class=lnlinks href=#hl-32-5> 5</a>
</span><span class=lnt id=hl-32-6><a class=lnlinks href=#hl-32-6> 6</a>
</span><span class=lnt id=hl-32-7><a class=lnlinks href=#hl-32-7> 7</a>
</span><span class=lnt id=hl-32-8><a class=lnlinks href=#hl-32-8> 8</a>
</span><span class=lnt id=hl-32-9><a class=lnlinks href=#hl-32-9> 9</a>
</span><span class=lnt id=hl-32-10><a class=lnlinks href=#hl-32-10>10</a>
</span><span class=lnt id=hl-32-11><a class=lnlinks href=#hl-32-11>11</a>
</span><span class=lnt id=hl-32-12><a class=lnlinks href=#hl-32-12>12</a>
</span><span class=lnt id=hl-32-13><a class=lnlinks href=#hl-32-13>13</a>
</span><span class=lnt id=hl-32-14><a class=lnlinks href=#hl-32-14>14</a>
</span><span class=lnt id=hl-32-15><a class=lnlinks href=#hl-32-15>15</a>
</span><span class=lnt id=hl-32-16><a class=lnlinks href=#hl-32-16>16</a>
</span><span class=lnt id=hl-32-17><a class=lnlinks href=#hl-32-17>17</a>
</span><span class=lnt id=hl-32-18><a class=lnlinks href=#hl-32-18>18</a>
</span><span class=lnt id=hl-32-19><a class=lnlinks href=#hl-32-19>19</a>
</span><span class=lnt id=hl-32-20><a class=lnlinks href=#hl-32-20>20</a>
</span><span class=lnt id=hl-32-21><a class=lnlinks href=#hl-32-21>21</a>
</span><span class=lnt id=hl-32-22><a class=lnlinks href=#hl-32-22>22</a>
</span><span class=lnt id=hl-32-23><a class=lnlinks href=#hl-32-23>23</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;count&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;data&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;_id&#34;</span><span class=p>:</span> <span class=s2>&#34;65ef564e810c88d123eea864&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;newname&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;author&#34;</span><span class=p>:</span> <span class=s2>&#34;newauthname&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;publishYear&#34;</span><span class=p>:</span> <span class=mi>2023</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;createdAt&#34;</span><span class=p>:</span> <span class=s2>&#34;2024-03-11T19:06:55.000Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;updatedAt&#34;</span><span class=p>:</span> <span class=s2>&#34;2024-03-14T06:46:16.522Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;__v&#34;</span><span class=p>:</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;_id&#34;</span><span class=p>:</span> <span class=s2>&#34;65f2a166b3f07128b54a362f&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;deletethisbook&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;author&#34;</span><span class=p>:</span> <span class=s2>&#34;deletethisauthor&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;publishYear&#34;</span><span class=p>:</span> <span class=mi>2008</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;createdAt&#34;</span><span class=p>:</span> <span class=s2>&#34;2024-03-14T07:04:06.831Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;updatedAt&#34;</span><span class=p>:</span> <span class=s2>&#34;2024-03-14T07:04:06.831Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;__v&#34;</span><span class=p>:</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div>Here the second book has the id <code>65f2a166b3f07128b54a362f</code> and this is the id we will use to delete the book.</li></ul><p><strong>Deleting the book</strong></p><ul><li>Method: <code>delete</code></li><li>URL: <code>http://localhost:5000/books/65f2a166b3f07128b54a362f</code></li><li>The final output (from postman) should look like this:<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-33-1><a class=lnlinks href=#hl-33-1>1</a>
</span><span class=lnt id=hl-33-2><a class=lnlinks href=#hl-33-2>2</a>
</span><span class=lnt id=hl-33-3><a class=lnlinks href=#hl-33-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;message&#34;</span><span class=p>:</span> <span class=s2>&#34;Book deleted successfully&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><p>This can be verified by using the <code>get</code> method and the url must be <code>http://localhost:5000/books</code>. The final output (from postman) should look like this:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-34-1><a class=lnlinks href=#hl-34-1> 1</a>
</span><span class=lnt id=hl-34-2><a class=lnlinks href=#hl-34-2> 2</a>
</span><span class=lnt id=hl-34-3><a class=lnlinks href=#hl-34-3> 3</a>
</span><span class=lnt id=hl-34-4><a class=lnlinks href=#hl-34-4> 4</a>
</span><span class=lnt id=hl-34-5><a class=lnlinks href=#hl-34-5> 5</a>
</span><span class=lnt id=hl-34-6><a class=lnlinks href=#hl-34-6> 6</a>
</span><span class=lnt id=hl-34-7><a class=lnlinks href=#hl-34-7> 7</a>
</span><span class=lnt id=hl-34-8><a class=lnlinks href=#hl-34-8> 8</a>
</span><span class=lnt id=hl-34-9><a class=lnlinks href=#hl-34-9> 9</a>
</span><span class=lnt id=hl-34-10><a class=lnlinks href=#hl-34-10>10</a>
</span><span class=lnt id=hl-34-11><a class=lnlinks href=#hl-34-11>11</a>
</span><span class=lnt id=hl-34-12><a class=lnlinks href=#hl-34-12>12</a>
</span><span class=lnt id=hl-34-13><a class=lnlinks href=#hl-34-13>13</a>
</span><span class=lnt id=hl-34-14><a class=lnlinks href=#hl-34-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;count&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;data&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;_id&#34;</span><span class=p>:</span> <span class=s2>&#34;65ef564e810c88d123eea864&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;newname&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;author&#34;</span><span class=p>:</span> <span class=s2>&#34;newauthname&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;publishYear&#34;</span><span class=p>:</span> <span class=mi>2023</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;createdAt&#34;</span><span class=p>:</span> <span class=s2>&#34;2024-03-11T19:06:55.000Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;updatedAt&#34;</span><span class=p>:</span> <span class=s2>&#34;2024-03-14T06:46:16.522Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;__v&#34;</span><span class=p>:</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=10-express-router>10-Express router<a hidden class=anchor aria-hidden=true href=#10-express-router>#</a></h2><p>Having all the routes in the same file can be a bit messy, it makes the code readability harder and debugging a bit more difficult. To solve this problem, Express provides a way to separate the routes into different files using the <code>express.Router</code> class.</p><p>In order to do this we can create a new file called <code>/routes/bookRoutes.js</code> and move the routes from <code>app.js</code> to this new file.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-35-1><a class=lnlinks href=#hl-35-1> 1</a>
</span><span class=lnt id=hl-35-2><a class=lnlinks href=#hl-35-2> 2</a>
</span><span class=lnt id=hl-35-3><a class=lnlinks href=#hl-35-3> 3</a>
</span><span class=lnt id=hl-35-4><a class=lnlinks href=#hl-35-4> 4</a>
</span><span class=lnt id=hl-35-5><a class=lnlinks href=#hl-35-5> 5</a>
</span><span class=lnt id=hl-35-6><a class=lnlinks href=#hl-35-6> 6</a>
</span><span class=lnt id=hl-35-7><a class=lnlinks href=#hl-35-7> 7</a>
</span><span class=lnt id=hl-35-8><a class=lnlinks href=#hl-35-8> 8</a>
</span><span class=lnt id=hl-35-9><a class=lnlinks href=#hl-35-9> 9</a>
</span><span class=lnt id=hl-35-10><a class=lnlinks href=#hl-35-10>10</a>
</span><span class=lnt id=hl-35-11><a class=lnlinks href=#hl-35-11>11</a>
</span><span class=lnt id=hl-35-12><a class=lnlinks href=#hl-35-12>12</a>
</span><span class=lnt id=hl-35-13><a class=lnlinks href=#hl-35-13>13</a>
</span><span class=lnt id=hl-35-14><a class=lnlinks href=#hl-35-14>14</a>
</span><span class=lnt id=hl-35-15><a class=lnlinks href=#hl-35-15>15</a>
</span><span class=lnt id=hl-35-16><a class=lnlinks href=#hl-35-16>16</a>
</span><span class=lnt id=hl-35-17><a class=lnlinks href=#hl-35-17>17</a>
</span><span class=lnt id=hl-35-18><a class=lnlinks href=#hl-35-18>18</a>
</span><span class=lnt id=hl-35-19><a class=lnlinks href=#hl-35-19>19</a>
</span><span class=lnt id=hl-35-20><a class=lnlinks href=#hl-35-20>20</a>
</span><span class=lnt id=hl-35-21><a class=lnlinks href=#hl-35-21>21</a>
</span><span class=lnt id=hl-35-22><a class=lnlinks href=#hl-35-22>22</a>
</span><span class=lnt id=hl-35-23><a class=lnlinks href=#hl-35-23>23</a>
</span><span class=lnt id=hl-35-24><a class=lnlinks href=#hl-35-24>24</a>
</span><span class=lnt id=hl-35-25><a class=lnlinks href=#hl-35-25>25</a>
</span><span class=lnt id=hl-35-26><a class=lnlinks href=#hl-35-26>26</a>
</span><span class=lnt id=hl-35-27><a class=lnlinks href=#hl-35-27>27</a>
</span><span class=lnt id=hl-35-28><a class=lnlinks href=#hl-35-28>28</a>
</span><span class=lnt id=hl-35-29><a class=lnlinks href=#hl-35-29>29</a>
</span><span class=lnt id=hl-35-30><a class=lnlinks href=#hl-35-30>30</a>
</span><span class=lnt id=hl-35-31><a class=lnlinks href=#hl-35-31>31</a>
</span><span class=lnt id=hl-35-32><a class=lnlinks href=#hl-35-32>32</a>
</span><span class=lnt id=hl-35-33><a class=lnlinks href=#hl-35-33>33</a>
</span><span class=lnt id=hl-35-34><a class=lnlinks href=#hl-35-34>34</a>
</span><span class=lnt id=hl-35-35><a class=lnlinks href=#hl-35-35>35</a>
</span><span class=lnt id=hl-35-36><a class=lnlinks href=#hl-35-36>36</a>
</span><span class=lnt id=hl-35-37><a class=lnlinks href=#hl-35-37>37</a>
</span><span class=lnt id=hl-35-38><a class=lnlinks href=#hl-35-38>38</a>
</span><span class=lnt id=hl-35-39><a class=lnlinks href=#hl-35-39>39</a>
</span><span class=lnt id=hl-35-40><a class=lnlinks href=#hl-35-40>40</a>
</span><span class=lnt id=hl-35-41><a class=lnlinks href=#hl-35-41>41</a>
</span><span class=lnt id=hl-35-42><a class=lnlinks href=#hl-35-42>42</a>
</span><span class=lnt id=hl-35-43><a class=lnlinks href=#hl-35-43>43</a>
</span><span class=lnt id=hl-35-44><a class=lnlinks href=#hl-35-44>44</a>
</span><span class=lnt id=hl-35-45><a class=lnlinks href=#hl-35-45>45</a>
</span><span class=lnt id=hl-35-46><a class=lnlinks href=#hl-35-46>46</a>
</span><span class=lnt id=hl-35-47><a class=lnlinks href=#hl-35-47>47</a>
</span><span class=lnt id=hl-35-48><a class=lnlinks href=#hl-35-48>48</a>
</span><span class=lnt id=hl-35-49><a class=lnlinks href=#hl-35-49>49</a>
</span><span class=lnt id=hl-35-50><a class=lnlinks href=#hl-35-50>50</a>
</span><span class=lnt id=hl-35-51><a class=lnlinks href=#hl-35-51>51</a>
</span><span class=lnt id=hl-35-52><a class=lnlinks href=#hl-35-52>52</a>
</span><span class=lnt id=hl-35-53><a class=lnlinks href=#hl-35-53>53</a>
</span><span class=lnt id=hl-35-54><a class=lnlinks href=#hl-35-54>54</a>
</span><span class=lnt id=hl-35-55><a class=lnlinks href=#hl-35-55>55</a>
</span><span class=lnt id=hl-35-56><a class=lnlinks href=#hl-35-56>56</a>
</span><span class=lnt id=hl-35-57><a class=lnlinks href=#hl-35-57>57</a>
</span><span class=lnt id=hl-35-58><a class=lnlinks href=#hl-35-58>58</a>
</span><span class=lnt id=hl-35-59><a class=lnlinks href=#hl-35-59>59</a>
</span><span class=lnt id=hl-35-60><a class=lnlinks href=#hl-35-60>60</a>
</span><span class=lnt id=hl-35-61><a class=lnlinks href=#hl-35-61>61</a>
</span><span class=lnt id=hl-35-62><a class=lnlinks href=#hl-35-62>62</a>
</span><span class=lnt id=hl-35-63><a class=lnlinks href=#hl-35-63>63</a>
</span><span class=lnt id=hl-35-64><a class=lnlinks href=#hl-35-64>64</a>
</span><span class=lnt id=hl-35-65><a class=lnlinks href=#hl-35-65>65</a>
</span><span class=lnt id=hl-35-66><a class=lnlinks href=#hl-35-66>66</a>
</span><span class=lnt id=hl-35-67><a class=lnlinks href=#hl-35-67>67</a>
</span><span class=lnt id=hl-35-68><a class=lnlinks href=#hl-35-68>68</a>
</span><span class=lnt id=hl-35-69><a class=lnlinks href=#hl-35-69>69</a>
</span><span class=lnt id=hl-35-70><a class=lnlinks href=#hl-35-70>70</a>
</span><span class=lnt id=hl-35-71><a class=lnlinks href=#hl-35-71>71</a>
</span><span class=lnt id=hl-35-72><a class=lnlinks href=#hl-35-72>72</a>
</span><span class=lnt id=hl-35-73><a class=lnlinks href=#hl-35-73>73</a>
</span><span class=lnt id=hl-35-74><a class=lnlinks href=#hl-35-74>74</a>
</span><span class=lnt id=hl-35-75><a class=lnlinks href=#hl-35-75>75</a>
</span><span class=lnt id=hl-35-76><a class=lnlinks href=#hl-35-76>76</a>
</span><span class=lnt id=hl-35-77><a class=lnlinks href=#hl-35-77>77</a>
</span><span class=lnt id=hl-35-78><a class=lnlinks href=#hl-35-78>78</a>
</span><span class=lnt id=hl-35-79><a class=lnlinks href=#hl-35-79>79</a>
</span><span class=lnt id=hl-35-80><a class=lnlinks href=#hl-35-80>80</a>
</span><span class=lnt id=hl-35-81><a class=lnlinks href=#hl-35-81>81</a>
</span><span class=lnt id=hl-35-82><a class=lnlinks href=#hl-35-82>82</a>
</span><span class=lnt id=hl-35-83><a class=lnlinks href=#hl-35-83>83</a>
</span><span class=lnt id=hl-35-84><a class=lnlinks href=#hl-35-84>84</a>
</span><span class=lnt id=hl-35-85><a class=lnlinks href=#hl-35-85>85</a>
</span><span class=lnt id=hl-35-86><a class=lnlinks href=#hl-35-86>86</a>
</span><span class=lnt id=hl-35-87><a class=lnlinks href=#hl-35-87>87</a>
</span><span class=lnt id=hl-35-88><a class=lnlinks href=#hl-35-88>88</a>
</span><span class=lnt id=hl-35-89><a class=lnlinks href=#hl-35-89>89</a>
</span><span class=lnt id=hl-35-90><a class=lnlinks href=#hl-35-90>90</a>
</span><span class=lnt id=hl-35-91><a class=lnlinks href=#hl-35-91>91</a>
</span><span class=lnt id=hl-35-92><a class=lnlinks href=#hl-35-92>92</a>
</span><span class=lnt id=hl-35-93><a class=lnlinks href=#hl-35-93>93</a>
</span><span class=lnt id=hl-35-94><a class=lnlinks href=#hl-35-94>94</a>
</span><span class=lnt id=hl-35-95><a class=lnlinks href=#hl-35-95>95</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>import</span> <span class=nx>express</span> <span class=nx>from</span> <span class=s1>&#39;express&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>Book</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;../models/bookModel.js&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>router</span> <span class=o>=</span> <span class=nx>express</span><span class=p>.</span><span class=nx>Router</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>router</span><span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=o>!</span><span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>title</span> <span class=o>||</span>
</span></span><span class=line><span class=cl>            <span class=o>!</span><span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>author</span> <span class=o>||</span>
</span></span><span class=line><span class=cl>            <span class=o>!</span><span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>publishYear</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>400</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span>
</span></span><span class=line><span class=cl>                <span class=nx>message</span><span class=o>:</span> <span class=s1>&#39;Please fill all required fields&#39;</span>
</span></span><span class=line><span class=cl>            <span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>newBook</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>title</span><span class=o>:</span> <span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>title</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>author</span><span class=o>:</span> <span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>author</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>publishYear</span><span class=o>:</span> <span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>publishYear</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>book</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>Book</span><span class=p>.</span><span class=nx>create</span><span class=p>(</span><span class=nx>newBook</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Send a response back to the client
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>201</span><span class=p>).</span><span class=nx>send</span><span class=p>(</span><span class=nx>book</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>500</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>router</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>books</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>Book</span><span class=p>.</span><span class=nx>find</span><span class=p>({});</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>200</span><span class=p>).</span><span class=nx>json</span><span class=p>({</span> 
</span></span><span class=line><span class=cl>            <span class=nx>count</span><span class=o>:</span> <span class=nx>books</span><span class=p>.</span><span class=nx>length</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>data</span><span class=o>:</span> <span class=nx>books</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>500</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>router</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/:id&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=p>{</span> <span class=nx>id</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>req</span><span class=p>.</span><span class=nx>params</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>book</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>Book</span><span class=p>.</span><span class=nx>findById</span><span class=p>(</span><span class=nx>id</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>200</span><span class=p>).</span><span class=nx>json</span><span class=p>(</span><span class=nx>book</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>500</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>router</span><span class=p>.</span><span class=nx>put</span><span class=p>(</span><span class=s1>&#39;/:id&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=o>!</span><span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>title</span> <span class=o>||</span>
</span></span><span class=line><span class=cl>            <span class=o>!</span><span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>author</span> <span class=o>||</span>
</span></span><span class=line><span class=cl>            <span class=o>!</span><span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>publishYear</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>400</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span>
</span></span><span class=line><span class=cl>                <span class=nx>message</span><span class=o>:</span> <span class=s2>&#34;Please fill all required fields&#34;</span><span class=p>,</span>    
</span></span><span class=line><span class=cl>            <span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=p>{</span> <span class=nx>id</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>req</span><span class=p>.</span><span class=nx>params</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>Book</span><span class=p>.</span><span class=nx>findByIdAndUpdate</span><span class=p>(</span><span class=nx>id</span><span class=p>,</span> <span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>result</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>404</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=s2>&#34;Book not found&#34;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>200</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=s2>&#34;Book updated successfully&#34;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>500</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>router</span><span class=p>.</span><span class=k>delete</span><span class=p>(</span><span class=s1>&#39;/:id&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=p>{</span> <span class=nx>id</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>req</span><span class=p>.</span><span class=nx>params</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>Book</span><span class=p>.</span><span class=nx>findByIdAndDelete</span><span class=p>(</span><span class=nx>id</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>result</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>404</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=s2>&#34;Book not found&#34;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>200</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=s2>&#34;Book deleted successfully&#34;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>500</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=nx>router</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>For reference</strong> the structure of the <code>index.js</code> file should look like this <strong>BEFORE</strong> the refactoring:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-36-1><a class=lnlinks href=#hl-36-1>  1</a>
</span><span class=lnt id=hl-36-2><a class=lnlinks href=#hl-36-2>  2</a>
</span><span class=lnt id=hl-36-3><a class=lnlinks href=#hl-36-3>  3</a>
</span><span class=lnt id=hl-36-4><a class=lnlinks href=#hl-36-4>  4</a>
</span><span class=lnt id=hl-36-5><a class=lnlinks href=#hl-36-5>  5</a>
</span><span class=lnt id=hl-36-6><a class=lnlinks href=#hl-36-6>  6</a>
</span><span class=lnt id=hl-36-7><a class=lnlinks href=#hl-36-7>  7</a>
</span><span class=lnt id=hl-36-8><a class=lnlinks href=#hl-36-8>  8</a>
</span><span class=lnt id=hl-36-9><a class=lnlinks href=#hl-36-9>  9</a>
</span><span class=lnt id=hl-36-10><a class=lnlinks href=#hl-36-10> 10</a>
</span><span class=lnt id=hl-36-11><a class=lnlinks href=#hl-36-11> 11</a>
</span><span class=lnt id=hl-36-12><a class=lnlinks href=#hl-36-12> 12</a>
</span><span class=lnt id=hl-36-13><a class=lnlinks href=#hl-36-13> 13</a>
</span><span class=lnt id=hl-36-14><a class=lnlinks href=#hl-36-14> 14</a>
</span><span class=lnt id=hl-36-15><a class=lnlinks href=#hl-36-15> 15</a>
</span><span class=lnt id=hl-36-16><a class=lnlinks href=#hl-36-16> 16</a>
</span><span class=lnt id=hl-36-17><a class=lnlinks href=#hl-36-17> 17</a>
</span><span class=lnt id=hl-36-18><a class=lnlinks href=#hl-36-18> 18</a>
</span><span class=lnt id=hl-36-19><a class=lnlinks href=#hl-36-19> 19</a>
</span><span class=lnt id=hl-36-20><a class=lnlinks href=#hl-36-20> 20</a>
</span><span class=lnt id=hl-36-21><a class=lnlinks href=#hl-36-21> 21</a>
</span><span class=lnt id=hl-36-22><a class=lnlinks href=#hl-36-22> 22</a>
</span><span class=lnt id=hl-36-23><a class=lnlinks href=#hl-36-23> 23</a>
</span><span class=lnt id=hl-36-24><a class=lnlinks href=#hl-36-24> 24</a>
</span><span class=lnt id=hl-36-25><a class=lnlinks href=#hl-36-25> 25</a>
</span><span class=lnt id=hl-36-26><a class=lnlinks href=#hl-36-26> 26</a>
</span><span class=lnt id=hl-36-27><a class=lnlinks href=#hl-36-27> 27</a>
</span><span class=lnt id=hl-36-28><a class=lnlinks href=#hl-36-28> 28</a>
</span><span class=lnt id=hl-36-29><a class=lnlinks href=#hl-36-29> 29</a>
</span><span class=lnt id=hl-36-30><a class=lnlinks href=#hl-36-30> 30</a>
</span><span class=lnt id=hl-36-31><a class=lnlinks href=#hl-36-31> 31</a>
</span><span class=lnt id=hl-36-32><a class=lnlinks href=#hl-36-32> 32</a>
</span><span class=lnt id=hl-36-33><a class=lnlinks href=#hl-36-33> 33</a>
</span><span class=lnt id=hl-36-34><a class=lnlinks href=#hl-36-34> 34</a>
</span><span class=lnt id=hl-36-35><a class=lnlinks href=#hl-36-35> 35</a>
</span><span class=lnt id=hl-36-36><a class=lnlinks href=#hl-36-36> 36</a>
</span><span class=lnt id=hl-36-37><a class=lnlinks href=#hl-36-37> 37</a>
</span><span class=lnt id=hl-36-38><a class=lnlinks href=#hl-36-38> 38</a>
</span><span class=lnt id=hl-36-39><a class=lnlinks href=#hl-36-39> 39</a>
</span><span class=lnt id=hl-36-40><a class=lnlinks href=#hl-36-40> 40</a>
</span><span class=lnt id=hl-36-41><a class=lnlinks href=#hl-36-41> 41</a>
</span><span class=lnt id=hl-36-42><a class=lnlinks href=#hl-36-42> 42</a>
</span><span class=lnt id=hl-36-43><a class=lnlinks href=#hl-36-43> 43</a>
</span><span class=lnt id=hl-36-44><a class=lnlinks href=#hl-36-44> 44</a>
</span><span class=lnt id=hl-36-45><a class=lnlinks href=#hl-36-45> 45</a>
</span><span class=lnt id=hl-36-46><a class=lnlinks href=#hl-36-46> 46</a>
</span><span class=lnt id=hl-36-47><a class=lnlinks href=#hl-36-47> 47</a>
</span><span class=lnt id=hl-36-48><a class=lnlinks href=#hl-36-48> 48</a>
</span><span class=lnt id=hl-36-49><a class=lnlinks href=#hl-36-49> 49</a>
</span><span class=lnt id=hl-36-50><a class=lnlinks href=#hl-36-50> 50</a>
</span><span class=lnt id=hl-36-51><a class=lnlinks href=#hl-36-51> 51</a>
</span><span class=lnt id=hl-36-52><a class=lnlinks href=#hl-36-52> 52</a>
</span><span class=lnt id=hl-36-53><a class=lnlinks href=#hl-36-53> 53</a>
</span><span class=lnt id=hl-36-54><a class=lnlinks href=#hl-36-54> 54</a>
</span><span class=lnt id=hl-36-55><a class=lnlinks href=#hl-36-55> 55</a>
</span><span class=lnt id=hl-36-56><a class=lnlinks href=#hl-36-56> 56</a>
</span><span class=lnt id=hl-36-57><a class=lnlinks href=#hl-36-57> 57</a>
</span><span class=lnt id=hl-36-58><a class=lnlinks href=#hl-36-58> 58</a>
</span><span class=lnt id=hl-36-59><a class=lnlinks href=#hl-36-59> 59</a>
</span><span class=lnt id=hl-36-60><a class=lnlinks href=#hl-36-60> 60</a>
</span><span class=lnt id=hl-36-61><a class=lnlinks href=#hl-36-61> 61</a>
</span><span class=lnt id=hl-36-62><a class=lnlinks href=#hl-36-62> 62</a>
</span><span class=lnt id=hl-36-63><a class=lnlinks href=#hl-36-63> 63</a>
</span><span class=lnt id=hl-36-64><a class=lnlinks href=#hl-36-64> 64</a>
</span><span class=lnt id=hl-36-65><a class=lnlinks href=#hl-36-65> 65</a>
</span><span class=lnt id=hl-36-66><a class=lnlinks href=#hl-36-66> 66</a>
</span><span class=lnt id=hl-36-67><a class=lnlinks href=#hl-36-67> 67</a>
</span><span class=lnt id=hl-36-68><a class=lnlinks href=#hl-36-68> 68</a>
</span><span class=lnt id=hl-36-69><a class=lnlinks href=#hl-36-69> 69</a>
</span><span class=lnt id=hl-36-70><a class=lnlinks href=#hl-36-70> 70</a>
</span><span class=lnt id=hl-36-71><a class=lnlinks href=#hl-36-71> 71</a>
</span><span class=lnt id=hl-36-72><a class=lnlinks href=#hl-36-72> 72</a>
</span><span class=lnt id=hl-36-73><a class=lnlinks href=#hl-36-73> 73</a>
</span><span class=lnt id=hl-36-74><a class=lnlinks href=#hl-36-74> 74</a>
</span><span class=lnt id=hl-36-75><a class=lnlinks href=#hl-36-75> 75</a>
</span><span class=lnt id=hl-36-76><a class=lnlinks href=#hl-36-76> 76</a>
</span><span class=lnt id=hl-36-77><a class=lnlinks href=#hl-36-77> 77</a>
</span><span class=lnt id=hl-36-78><a class=lnlinks href=#hl-36-78> 78</a>
</span><span class=lnt id=hl-36-79><a class=lnlinks href=#hl-36-79> 79</a>
</span><span class=lnt id=hl-36-80><a class=lnlinks href=#hl-36-80> 80</a>
</span><span class=lnt id=hl-36-81><a class=lnlinks href=#hl-36-81> 81</a>
</span><span class=lnt id=hl-36-82><a class=lnlinks href=#hl-36-82> 82</a>
</span><span class=lnt id=hl-36-83><a class=lnlinks href=#hl-36-83> 83</a>
</span><span class=lnt id=hl-36-84><a class=lnlinks href=#hl-36-84> 84</a>
</span><span class=lnt id=hl-36-85><a class=lnlinks href=#hl-36-85> 85</a>
</span><span class=lnt id=hl-36-86><a class=lnlinks href=#hl-36-86> 86</a>
</span><span class=lnt id=hl-36-87><a class=lnlinks href=#hl-36-87> 87</a>
</span><span class=lnt id=hl-36-88><a class=lnlinks href=#hl-36-88> 88</a>
</span><span class=lnt id=hl-36-89><a class=lnlinks href=#hl-36-89> 89</a>
</span><span class=lnt id=hl-36-90><a class=lnlinks href=#hl-36-90> 90</a>
</span><span class=lnt id=hl-36-91><a class=lnlinks href=#hl-36-91> 91</a>
</span><span class=lnt id=hl-36-92><a class=lnlinks href=#hl-36-92> 92</a>
</span><span class=lnt id=hl-36-93><a class=lnlinks href=#hl-36-93> 93</a>
</span><span class=lnt id=hl-36-94><a class=lnlinks href=#hl-36-94> 94</a>
</span><span class=lnt id=hl-36-95><a class=lnlinks href=#hl-36-95> 95</a>
</span><span class=lnt id=hl-36-96><a class=lnlinks href=#hl-36-96> 96</a>
</span><span class=lnt id=hl-36-97><a class=lnlinks href=#hl-36-97> 97</a>
</span><span class=lnt id=hl-36-98><a class=lnlinks href=#hl-36-98> 98</a>
</span><span class=lnt id=hl-36-99><a class=lnlinks href=#hl-36-99> 99</a>
</span><span class=lnt id=hl-36-100><a class=lnlinks href=#hl-36-100>100</a>
</span><span class=lnt id=hl-36-101><a class=lnlinks href=#hl-36-101>101</a>
</span><span class=lnt id=hl-36-102><a class=lnlinks href=#hl-36-102>102</a>
</span><span class=lnt id=hl-36-103><a class=lnlinks href=#hl-36-103>103</a>
</span><span class=lnt id=hl-36-104><a class=lnlinks href=#hl-36-104>104</a>
</span><span class=lnt id=hl-36-105><a class=lnlinks href=#hl-36-105>105</a>
</span><span class=lnt id=hl-36-106><a class=lnlinks href=#hl-36-106>106</a>
</span><span class=lnt id=hl-36-107><a class=lnlinks href=#hl-36-107>107</a>
</span><span class=lnt id=hl-36-108><a class=lnlinks href=#hl-36-108>108</a>
</span><span class=lnt id=hl-36-109><a class=lnlinks href=#hl-36-109>109</a>
</span><span class=lnt id=hl-36-110><a class=lnlinks href=#hl-36-110>110</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>import</span> <span class=nx>express</span><span class=p>,</span> <span class=p>{</span> <span class=nx>response</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;express&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>PORT</span><span class=p>,</span> <span class=nx>mongoDBURL</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;./config.js&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>mongoose</span> <span class=nx>from</span> <span class=s2>&#34;mongoose&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>Book</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;./models/bookModel.js&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>app</span> <span class=o>=</span> <span class=nx>express</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>express</span><span class=p>.</span><span class=nx>json</span><span class=p>());</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>req</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>234</span><span class=p>).</span><span class=nx>send</span><span class=p>(</span><span class=s1>&#39;Hello from server&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=s1>&#39;/books&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=o>!</span><span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>title</span> <span class=o>||</span>
</span></span><span class=line><span class=cl>            <span class=o>!</span><span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>author</span> <span class=o>||</span>
</span></span><span class=line><span class=cl>            <span class=o>!</span><span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>publishYear</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>400</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span>
</span></span><span class=line><span class=cl>                <span class=nx>message</span><span class=o>:</span> <span class=s1>&#39;Please fill all required fields&#39;</span>
</span></span><span class=line><span class=cl>            <span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>newBook</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>title</span><span class=o>:</span> <span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>title</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>author</span><span class=o>:</span> <span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>author</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>publishYear</span><span class=o>:</span> <span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>publishYear</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>book</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>Book</span><span class=p>.</span><span class=nx>create</span><span class=p>(</span><span class=nx>newBook</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Send a response back to the client
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>201</span><span class=p>).</span><span class=nx>send</span><span class=p>(</span><span class=nx>book</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>500</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/books&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>books</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>Book</span><span class=p>.</span><span class=nx>find</span><span class=p>({});</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>200</span><span class=p>).</span><span class=nx>json</span><span class=p>({</span> 
</span></span><span class=line><span class=cl>            <span class=nx>count</span><span class=o>:</span> <span class=nx>books</span><span class=p>.</span><span class=nx>length</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>data</span><span class=o>:</span> <span class=nx>books</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>500</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/books/:id&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=p>{</span> <span class=nx>id</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>req</span><span class=p>.</span><span class=nx>params</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>book</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>Book</span><span class=p>.</span><span class=nx>findById</span><span class=p>(</span><span class=nx>id</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>200</span><span class=p>).</span><span class=nx>json</span><span class=p>(</span><span class=nx>book</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>500</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>put</span><span class=p>(</span><span class=s1>&#39;/books/:id&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=o>!</span><span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>title</span> <span class=o>||</span>
</span></span><span class=line><span class=cl>            <span class=o>!</span><span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>author</span> <span class=o>||</span>
</span></span><span class=line><span class=cl>            <span class=o>!</span><span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>publishYear</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>400</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span>
</span></span><span class=line><span class=cl>                <span class=nx>message</span><span class=o>:</span> <span class=s2>&#34;Please fill all required fields&#34;</span><span class=p>,</span>    
</span></span><span class=line><span class=cl>            <span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=p>{</span> <span class=nx>id</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>req</span><span class=p>.</span><span class=nx>params</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>Book</span><span class=p>.</span><span class=nx>findByIdAndUpdate</span><span class=p>(</span><span class=nx>id</span><span class=p>,</span> <span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>result</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>404</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=s2>&#34;Book not found&#34;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>200</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=s2>&#34;Book updated successfully&#34;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>500</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=k>delete</span><span class=p>(</span><span class=s1>&#39;/books/:id&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=p>{</span> <span class=nx>id</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>req</span><span class=p>.</span><span class=nx>params</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>Book</span><span class=p>.</span><span class=nx>findByIdAndDelete</span><span class=p>(</span><span class=nx>id</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>result</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>404</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=s2>&#34;Book not found&#34;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>200</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=s2>&#34;Book deleted successfully&#34;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>500</span><span class=p>).</span><span class=nx>send</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>mongoose</span><span class=p>.</span><span class=nx>connect</span><span class=p>(</span><span class=nx>mongoDBURL</span><span class=p>).</span><span class=nx>then</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Connected to MongoDB&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>app</span><span class=p>.</span><span class=nx>listen</span><span class=p>(</span><span class=nx>PORT</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`Server is running on port </span><span class=si>${</span><span class=nx>PORT</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>}).</span><span class=k>catch</span><span class=p>((</span><span class=nx>err</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Failed to connect to MongoDB&#39;</span><span class=p>,</span> <span class=nx>err</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><p>And here is the code after refactoring:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-37-1><a class=lnlinks href=#hl-37-1> 1</a>
</span><span class=lnt id=hl-37-2><a class=lnlinks href=#hl-37-2> 2</a>
</span><span class=lnt id=hl-37-3><a class=lnlinks href=#hl-37-3> 3</a>
</span><span class=lnt id=hl-37-4><a class=lnlinks href=#hl-37-4> 4</a>
</span><span class=lnt id=hl-37-5><a class=lnlinks href=#hl-37-5> 5</a>
</span><span class=lnt id=hl-37-6><a class=lnlinks href=#hl-37-6> 6</a>
</span><span class=lnt id=hl-37-7><a class=lnlinks href=#hl-37-7> 7</a>
</span><span class=lnt id=hl-37-8><a class=lnlinks href=#hl-37-8> 8</a>
</span><span class=lnt id=hl-37-9><a class=lnlinks href=#hl-37-9> 9</a>
</span><span class=lnt id=hl-37-10><a class=lnlinks href=#hl-37-10>10</a>
</span><span class=lnt id=hl-37-11><a class=lnlinks href=#hl-37-11>11</a>
</span><span class=lnt id=hl-37-12><a class=lnlinks href=#hl-37-12>12</a>
</span><span class=lnt id=hl-37-13><a class=lnlinks href=#hl-37-13>13</a>
</span><span class=lnt id=hl-37-14><a class=lnlinks href=#hl-37-14>14</a>
</span><span class=lnt id=hl-37-15><a class=lnlinks href=#hl-37-15>15</a>
</span><span class=lnt id=hl-37-16><a class=lnlinks href=#hl-37-16>16</a>
</span><span class=lnt id=hl-37-17><a class=lnlinks href=#hl-37-17>17</a>
</span><span class=lnt id=hl-37-18><a class=lnlinks href=#hl-37-18>18</a>
</span><span class=lnt id=hl-37-19><a class=lnlinks href=#hl-37-19>19</a>
</span><span class=lnt id=hl-37-20><a class=lnlinks href=#hl-37-20>20</a>
</span><span class=lnt id=hl-37-21><a class=lnlinks href=#hl-37-21>21</a>
</span><span class=lnt id=hl-37-22><a class=lnlinks href=#hl-37-22>22</a>
</span><span class=lnt id=hl-37-23><a class=lnlinks href=#hl-37-23>23</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>import</span> <span class=nx>express</span><span class=p>,</span> <span class=p>{</span> <span class=nx>response</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;express&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>PORT</span><span class=p>,</span> <span class=nx>mongoDBURL</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;./config.js&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>mongoose</span> <span class=nx>from</span> <span class=s2>&#34;mongoose&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>booksRouter</span> <span class=nx>from</span> <span class=s2>&#34;./routes/bookRoutes.js&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>app</span> <span class=o>=</span> <span class=nx>express</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>express</span><span class=p>.</span><span class=nx>json</span><span class=p>());</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>req</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>234</span><span class=p>).</span><span class=nx>send</span><span class=p>(</span><span class=s1>&#39;Hello from server&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=s1>&#39;/books&#39;</span><span class=p>,</span> <span class=nx>booksRouter</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>mongoose</span><span class=p>.</span><span class=nx>connect</span><span class=p>(</span><span class=nx>mongoDBURL</span><span class=p>).</span><span class=nx>then</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Connected to MongoDB&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>app</span><span class=p>.</span><span class=nx>listen</span><span class=p>(</span><span class=nx>PORT</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`Server is running on port </span><span class=si>${</span><span class=nx>PORT</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>}).</span><span class=k>catch</span><span class=p>((</span><span class=nx>err</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Failed to connect to MongoDB&#39;</span><span class=p>,</span> <span class=nx>err</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><p>Note the changes we have done to the <code>index.js</code> file:<br>We have removed all the <code>/books</code> routes from the <code>index.js</code> file and replaced them with <code>app.use('/books', booksRouter);</code>. This line tells Express to use the <code>booksRouter</code> for all the routes that start with <code>/books</code>.</p><p>And the <code>bookRoutes.js</code> file is a new file that we have created to hold all the <code>/books</code> routes. We have moved all the <code>/books</code> routes from the <code>index.js</code> file to this new file. We have renamed the <code>app</code> object to <code>router</code> and we have exported it at the end of the file and refactored the routes to start with <code>/</code> instead of <code>/books</code>. This is because we have included this line <code>app.use('/books', booksRouter);</code> in the <code>index.js</code> file, so all the routes in the <code>bookRoutes.js</code> file will be prefixed with <code>/books</code>.</p><h2 id=11-cors-policy>11-CORS policy<a hidden class=anchor aria-hidden=true href=#11-cors-policy>#</a></h2><h3 id=what-is-cors>What is CORS?<a hidden class=anchor aria-hidden=true href=#what-is-cors>#</a></h3><p>CORS stands for Cross-Origin Resource Sharing. It is a security feature implemented in web browsers to prevent unauthorized access to resources on a different origin. An origin is defined as the combination of protocol, domain, and port. For example, the origin of <code>https://example.com:8080</code> is <code>https://example.com:8080</code>. It is a safety measure to prevent unauthorized access to resources on a different origin. However, there are times when you want to allow access to resources from a different origin. This is where CORS comes in.</p><h3 id=including-cors-in-your-express-app>Including CORS in your Express app<a hidden class=anchor aria-hidden=true href=#including-cors-in-your-express-app>#</a></h3><p>To use CORS in your Express app, you need to install the <code>cors</code> package. You can do this by running the following command in your terminal:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-38-1><a class=lnlinks href=#hl-38-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm i cors
</span></span></code></pre></td></tr></table></div></div><p>After installing the <code>cors</code> package, you can include it in your Express app by adding the following line of code to your <code>index.js</code> file:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-39-1><a class=lnlinks href=#hl-39-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>import</span> <span class=nx>cors</span> <span class=nx>from</span> <span class=s2>&#34;cors&#34;</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p>Then, you can use the <code>cors</code> middleware in your app by adding the following line of code to your <code>index.js</code> file. This can be done in 2 ways:</p><ul><li>Allow all origins</li><li>Allow specific origins</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-40-1><a class=lnlinks href=#hl-40-1>1</a>
</span><span class=lnt id=hl-40-2><a class=lnlinks href=#hl-40-2>2</a>
</span><span class=lnt id=hl-40-3><a class=lnlinks href=#hl-40-3>3</a>
</span><span class=lnt id=hl-40-4><a class=lnlinks href=#hl-40-4>4</a>
</span><span class=lnt id=hl-40-5><a class=lnlinks href=#hl-40-5>5</a>
</span><span class=lnt id=hl-40-6><a class=lnlinks href=#hl-40-6>6</a>
</span><span class=lnt id=hl-40-7><a class=lnlinks href=#hl-40-7>7</a>
</span><span class=lnt id=hl-40-8><a class=lnlinks href=#hl-40-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Allow all origins
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>cors</span><span class=p>());</span>
</span></span><span class=line><span class=cl><span class=c1>// Allow specific origins
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>cors</span><span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=nx>origin</span><span class=o>:</span> <span class=s1>&#39;http://localhost:5000&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>methods</span><span class=o>:</span> <span class=s1>&#39;GET, POST, PUT, DELETE&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>allowedHeaders</span><span class=o>:</span> <span class=s1>&#39;Content-Type&#39;</span>
</span></span><span class=line><span class=cl><span class=p>}));</span>
</span></span></code></pre></td></tr></table></div></div><p>Note that only one of the above lines should be used in your <code>index.js</code> file. The first line allows all origins, while the second line allows only the specified origin. You can also specify the methods and headers that are allowed.</p><h2 id=12-react-setup>12-React setup<a hidden class=anchor aria-hidden=true href=#12-react-setup>#</a></h2><h3 id=what-is-react>What is React?<a hidden class=anchor aria-hidden=true href=#what-is-react>#</a></h3><p>React is a JavaScript library for building user interfaces. It is maintained by Facebook and a community of individual developers and companies. React can be used as a base in the development of single-page or mobile applications.</p><h3 id=how-to-install-react>How to install React<a hidden class=anchor aria-hidden=true href=#how-to-install-react>#</a></h3><p>There are two (main) ways to install React:</p><ul><li>Using <code>create-react-app</code>: <strong>Advantages</strong>: It is the easiest way to get started with React. <strong>Disadvantages</strong>: It is not as flexible as setting up React from scratch.</li><li>Using <code>vite</code>: <strong>Advantages</strong>: It is faster than <code>create-react-app</code>. <strong>Disadvantages</strong>: It is not as beginner-friendly as <code>create-react-app</code>.</li></ul><p>We shall use vite to set up our React app. To create a vite app, run the following command in the <strong>root directory</strong> of your terminal:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-41-1><a class=lnlinks href=#hl-41-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm create vite@latest
</span></span></code></pre></td></tr></table></div></div><p>If vite is not installed, a prompt will appear asking you to install it. Press <code>y</code> and hit <code>Enter</code> to install vite. After installing vite, you will be prompted to enter the name of your project. Enter the name of your project and hit <code>Enter</code>. Vite will now ask the framework you want to use. Select <code>react</code> and hit <code>Enter</code>. It will now ask if you want to use TypeScript or JavaScript. We shall use JavaScript, so hit <code>Enter</code>. Vite will now create a new directory with the name of your project and set up a new React app for you.</p><p>Now go into the directory of your project by running the following command in your terminal:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-42-1><a class=lnlinks href=#hl-42-1>1</a>
</span><span class=lnt id=hl-42-2><a class=lnlinks href=#hl-42-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> &lt;project-name&gt;
</span></span><span class=line><span class=cl>npm i
</span></span></code></pre></td></tr></table></div></div><h3 id=using-tailwind>Using Tailwind<a hidden class=anchor aria-hidden=true href=#using-tailwind>#</a></h3><p>Tailwind CSS is a utility-first CSS framework for rapidly building custom designs. It is a low-level framework that provides you with all the building blocks you need to build your own designs. To use Tailwind in your React app, you need to install the <code>tailwindcss</code> package. You can do this by running the following command in your terminal. But first visit the <a href=https://tailwindcss.com/>Tailwind website</a> or dirctly visit the <a href=https://tailwindcss.com/docs/guides/vite>quickstart guide for vite</a>.</p><p>Installation</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-43-1><a class=lnlinks href=#hl-43-1>1</a>
</span><span class=lnt id=hl-43-2><a class=lnlinks href=#hl-43-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm install -D tailwindcss postcss autoprefixer
</span></span><span class=line><span class=cl>npx tailwindcss init -p
</span></span></code></pre></td></tr></table></div></div><p>After installing the <code>tailwindcss</code> package, you can replace it in your React app by adding the following line of code to your <code>tailwind.config.js</code> file:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-44-1><a class=lnlinks href=#hl-44-1> 1</a>
</span><span class=lnt id=hl-44-2><a class=lnlinks href=#hl-44-2> 2</a>
</span><span class=lnt id=hl-44-3><a class=lnlinks href=#hl-44-3> 3</a>
</span><span class=lnt id=hl-44-4><a class=lnlinks href=#hl-44-4> 4</a>
</span><span class=lnt id=hl-44-5><a class=lnlinks href=#hl-44-5> 5</a>
</span><span class=lnt id=hl-44-6><a class=lnlinks href=#hl-44-6> 6</a>
</span><span class=lnt id=hl-44-7><a class=lnlinks href=#hl-44-7> 7</a>
</span><span class=lnt id=hl-44-8><a class=lnlinks href=#hl-44-8> 8</a>
</span><span class=lnt id=hl-44-9><a class=lnlinks href=#hl-44-9> 9</a>
</span><span class=lnt id=hl-44-10><a class=lnlinks href=#hl-44-10>10</a>
</span><span class=lnt id=hl-44-11><a class=lnlinks href=#hl-44-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=c>/** @type {import(&#39;tailwindcss&#39;).Config} */</span>
</span></span><span class=line><span class=cl><span class=nt>export</span> <span class=nt>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>content</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;./index.html&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;./src/**/*.{js,ts,jsx,tsx}&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=n>theme</span><span class=o>:</span> <span class=err>{</span>
</span></span><span class=line><span class=cl>    <span class=n>extend</span><span class=o>:</span> <span class=err>{</span><span class=p>}</span><span class=o>,</span>
</span></span><span class=line><span class=cl>  <span class=err>}</span><span class=o>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>plugins</span><span class=o>:</span> <span class=o>[],</span>
</span></span><span class=line><span class=cl><span class=err>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Now you can replace the code of <code>index.css</code> with the following code:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-45-1><a class=lnlinks href=#hl-45-1>1</a>
</span><span class=lnt id=hl-45-2><a class=lnlinks href=#hl-45-2>2</a>
</span><span class=lnt id=hl-45-3><a class=lnlinks href=#hl-45-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=p>@</span><span class=k>tailwind</span> <span class=nt>base</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>@</span><span class=k>tailwind</span> <span class=nt>components</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>@</span><span class=k>tailwind</span> <span class=nt>utilities</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p>Delete <code>App.css</code> for now</p><p>In the <code>App.jsx</code> file, replace the code with the following:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-46-1><a class=lnlinks href=#hl-46-1> 1</a>
</span><span class=lnt id=hl-46-2><a class=lnlinks href=#hl-46-2> 2</a>
</span><span class=lnt id=hl-46-3><a class=lnlinks href=#hl-46-3> 3</a>
</span><span class=lnt id=hl-46-4><a class=lnlinks href=#hl-46-4> 4</a>
</span><span class=lnt id=hl-46-5><a class=lnlinks href=#hl-46-5> 5</a>
</span><span class=lnt id=hl-46-6><a class=lnlinks href=#hl-46-6> 6</a>
</span><span class=lnt id=hl-46-7><a class=lnlinks href=#hl-46-7> 7</a>
</span><span class=lnt id=hl-46-8><a class=lnlinks href=#hl-46-8> 8</a>
</span><span class=lnt id=hl-46-9><a class=lnlinks href=#hl-46-9> 9</a>
</span><span class=lnt id=hl-46-10><a class=lnlinks href=#hl-46-10>10</a>
</span><span class=lnt id=hl-46-11><a class=lnlinks href=#hl-46-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-jsx data-lang=jsx><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>App</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>className</span><span class=o>=</span><span class=s>&#39;bg-red-400 text-white&#39;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nx>App</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=nx>App</span>
</span></span></code></pre></td></tr></table></div></div><p>To make development easier, you use the ES7 React/Redux/GraphQL/React-Native snippets extension in VSCode. This extension provides you with a lot of snippets that you can use to write your code faster. Using <code>rafce</code> snippet will create a functional component with an export statement.</p><p>To run this code in your browser, run the following command in your terminal:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-47-1><a class=lnlinks href=#hl-47-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm run dev
</span></span></code></pre></td></tr></table></div></div><p>Unlike the modules before you have to run the command in the <code>frontend</code> directory. This will start a development server and open your app in your default browser. The output will look like this:
<img loading=lazy src=https://github.com/AumPauskar/MERN-trial/blob/main/docs/assets/react-basic.png alt="basic react app"></p><h2 id=13-react-router-dom>13-React router dom<a hidden class=anchor aria-hidden=true href=#13-react-router-dom>#</a></h2><p>The react router dom is a package that allows you to use the routing in your react application. It is a collection of navigational components that compose declaratively with your application.</p><h3 id=installation>Installation<a hidden class=anchor aria-hidden=true href=#installation>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-48-1><a class=lnlinks href=#hl-48-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm i react-router-dom
</span></span></code></pre></td></tr></table></div></div><h3 id=usage>Usage<a hidden class=anchor aria-hidden=true href=#usage>#</a></h3><p>Go to the <code>main.jsx</code> file and import the <code>BrowserRouter</code> and <code>Route</code> components from the <code>react-router-dom</code> package.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-49-1><a class=lnlinks href=#hl-49-1> 1</a>
</span><span class=lnt id=hl-49-2><a class=lnlinks href=#hl-49-2> 2</a>
</span><span class=lnt id=hl-49-3><a class=lnlinks href=#hl-49-3> 3</a>
</span><span class=lnt id=hl-49-4><a class=lnlinks href=#hl-49-4> 4</a>
</span><span class=lnt id=hl-49-5><a class=lnlinks href=#hl-49-5> 5</a>
</span><span class=lnt id=hl-49-6><a class=lnlinks href=#hl-49-6> 6</a>
</span><span class=lnt id=hl-49-7><a class=lnlinks href=#hl-49-7> 7</a>
</span><span class=lnt id=hl-49-8><a class=lnlinks href=#hl-49-8> 8</a>
</span><span class=lnt id=hl-49-9><a class=lnlinks href=#hl-49-9> 9</a>
</span><span class=lnt id=hl-49-10><a class=lnlinks href=#hl-49-10>10</a>
</span><span class=lnt id=hl-49-11><a class=lnlinks href=#hl-49-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-jsx data-lang=jsx><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>ReactDOM</span> <span class=nx>from</span> <span class=s1>&#39;react-dom/client&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>App</span> <span class=nx>from</span> <span class=s1>&#39;./App.jsx&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=s1>&#39;./index.css&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>BrowserRouter</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;react-router-dom&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>ReactDOM</span><span class=p>.</span><span class=nx>createRoot</span><span class=p>(</span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s1>&#39;root&#39;</span><span class=p>)).</span><span class=nx>render</span><span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>BrowserRouter</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>App</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>BrowserRouter</span><span class=p>&gt;,</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>You have to create a new folder within the <code>src</code> folder called <code>page</code>. This folder will contain the components that will be used in the routes. Create 5 different files within the <code>page</code> folder.</p><ul><li><code>Home.jsx</code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-50-1><a class=lnlinks href=#hl-50-1> 1</a>
</span><span class=lnt id=hl-50-2><a class=lnlinks href=#hl-50-2> 2</a>
</span><span class=lnt id=hl-50-3><a class=lnlinks href=#hl-50-3> 3</a>
</span><span class=lnt id=hl-50-4><a class=lnlinks href=#hl-50-4> 4</a>
</span><span class=lnt id=hl-50-5><a class=lnlinks href=#hl-50-5> 5</a>
</span><span class=lnt id=hl-50-6><a class=lnlinks href=#hl-50-6> 6</a>
</span><span class=lnt id=hl-50-7><a class=lnlinks href=#hl-50-7> 7</a>
</span><span class=lnt id=hl-50-8><a class=lnlinks href=#hl-50-8> 8</a>
</span><span class=lnt id=hl-50-9><a class=lnlinks href=#hl-50-9> 9</a>
</span><span class=lnt id=hl-50-10><a class=lnlinks href=#hl-50-10>10</a>
</span><span class=lnt id=hl-50-11><a class=lnlinks href=#hl-50-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-jsx data-lang=jsx><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>Home</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=nx>Home</span>
</span></span></code></pre></td></tr></table></div></div></li><li><code>ShowBook.jsx</code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-51-1><a class=lnlinks href=#hl-51-1> 1</a>
</span><span class=lnt id=hl-51-2><a class=lnlinks href=#hl-51-2> 2</a>
</span><span class=lnt id=hl-51-3><a class=lnlinks href=#hl-51-3> 3</a>
</span><span class=lnt id=hl-51-4><a class=lnlinks href=#hl-51-4> 4</a>
</span><span class=lnt id=hl-51-5><a class=lnlinks href=#hl-51-5> 5</a>
</span><span class=lnt id=hl-51-6><a class=lnlinks href=#hl-51-6> 6</a>
</span><span class=lnt id=hl-51-7><a class=lnlinks href=#hl-51-7> 7</a>
</span><span class=lnt id=hl-51-8><a class=lnlinks href=#hl-51-8> 8</a>
</span><span class=lnt id=hl-51-9><a class=lnlinks href=#hl-51-9> 9</a>
</span><span class=lnt id=hl-51-10><a class=lnlinks href=#hl-51-10>10</a>
</span><span class=lnt id=hl-51-11><a class=lnlinks href=#hl-51-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-jsx data-lang=jsx><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>ShowBook</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=nx>ShowBook</span>
</span></span></code></pre></td></tr></table></div></div></li><li><code>EditBook.jsx</code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-52-1><a class=lnlinks href=#hl-52-1> 1</a>
</span><span class=lnt id=hl-52-2><a class=lnlinks href=#hl-52-2> 2</a>
</span><span class=lnt id=hl-52-3><a class=lnlinks href=#hl-52-3> 3</a>
</span><span class=lnt id=hl-52-4><a class=lnlinks href=#hl-52-4> 4</a>
</span><span class=lnt id=hl-52-5><a class=lnlinks href=#hl-52-5> 5</a>
</span><span class=lnt id=hl-52-6><a class=lnlinks href=#hl-52-6> 6</a>
</span><span class=lnt id=hl-52-7><a class=lnlinks href=#hl-52-7> 7</a>
</span><span class=lnt id=hl-52-8><a class=lnlinks href=#hl-52-8> 8</a>
</span><span class=lnt id=hl-52-9><a class=lnlinks href=#hl-52-9> 9</a>
</span><span class=lnt id=hl-52-10><a class=lnlinks href=#hl-52-10>10</a>
</span><span class=lnt id=hl-52-11><a class=lnlinks href=#hl-52-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-jsx data-lang=jsx><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>EditBook</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=nx>EditBook</span>
</span></span></code></pre></td></tr></table></div></div></li><li><code>CreateBook.jsx</code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-53-1><a class=lnlinks href=#hl-53-1> 1</a>
</span><span class=lnt id=hl-53-2><a class=lnlinks href=#hl-53-2> 2</a>
</span><span class=lnt id=hl-53-3><a class=lnlinks href=#hl-53-3> 3</a>
</span><span class=lnt id=hl-53-4><a class=lnlinks href=#hl-53-4> 4</a>
</span><span class=lnt id=hl-53-5><a class=lnlinks href=#hl-53-5> 5</a>
</span><span class=lnt id=hl-53-6><a class=lnlinks href=#hl-53-6> 6</a>
</span><span class=lnt id=hl-53-7><a class=lnlinks href=#hl-53-7> 7</a>
</span><span class=lnt id=hl-53-8><a class=lnlinks href=#hl-53-8> 8</a>
</span><span class=lnt id=hl-53-9><a class=lnlinks href=#hl-53-9> 9</a>
</span><span class=lnt id=hl-53-10><a class=lnlinks href=#hl-53-10>10</a>
</span><span class=lnt id=hl-53-11><a class=lnlinks href=#hl-53-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-jsx data-lang=jsx><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>CreateBook</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=nx>CreateBook</span>
</span></span></code></pre></td></tr></table></div></div></li><li><code>DeleteBook.jsx</code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-54-1><a class=lnlinks href=#hl-54-1> 1</a>
</span><span class=lnt id=hl-54-2><a class=lnlinks href=#hl-54-2> 2</a>
</span><span class=lnt id=hl-54-3><a class=lnlinks href=#hl-54-3> 3</a>
</span><span class=lnt id=hl-54-4><a class=lnlinks href=#hl-54-4> 4</a>
</span><span class=lnt id=hl-54-5><a class=lnlinks href=#hl-54-5> 5</a>
</span><span class=lnt id=hl-54-6><a class=lnlinks href=#hl-54-6> 6</a>
</span><span class=lnt id=hl-54-7><a class=lnlinks href=#hl-54-7> 7</a>
</span><span class=lnt id=hl-54-8><a class=lnlinks href=#hl-54-8> 8</a>
</span><span class=lnt id=hl-54-9><a class=lnlinks href=#hl-54-9> 9</a>
</span><span class=lnt id=hl-54-10><a class=lnlinks href=#hl-54-10>10</a>
</span><span class=lnt id=hl-54-11><a class=lnlinks href=#hl-54-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-jsx data-lang=jsx><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>DeleteBook</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=nx>DeleteBook</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><p>Now you have to modify the <code>App.jsx</code> file to use the <code>Route</code> component.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-55-1><a class=lnlinks href=#hl-55-1> 1</a>
</span><span class=lnt id=hl-55-2><a class=lnlinks href=#hl-55-2> 2</a>
</span><span class=lnt id=hl-55-3><a class=lnlinks href=#hl-55-3> 3</a>
</span><span class=lnt id=hl-55-4><a class=lnlinks href=#hl-55-4> 4</a>
</span><span class=lnt id=hl-55-5><a class=lnlinks href=#hl-55-5> 5</a>
</span><span class=lnt id=hl-55-6><a class=lnlinks href=#hl-55-6> 6</a>
</span><span class=lnt id=hl-55-7><a class=lnlinks href=#hl-55-7> 7</a>
</span><span class=lnt id=hl-55-8><a class=lnlinks href=#hl-55-8> 8</a>
</span><span class=lnt id=hl-55-9><a class=lnlinks href=#hl-55-9> 9</a>
</span><span class=lnt id=hl-55-10><a class=lnlinks href=#hl-55-10>10</a>
</span><span class=lnt id=hl-55-11><a class=lnlinks href=#hl-55-11>11</a>
</span><span class=lnt id=hl-55-12><a class=lnlinks href=#hl-55-12>12</a>
</span><span class=lnt id=hl-55-13><a class=lnlinks href=#hl-55-13>13</a>
</span><span class=lnt id=hl-55-14><a class=lnlinks href=#hl-55-14>14</a>
</span><span class=lnt id=hl-55-15><a class=lnlinks href=#hl-55-15>15</a>
</span><span class=lnt id=hl-55-16><a class=lnlinks href=#hl-55-16>16</a>
</span><span class=lnt id=hl-55-17><a class=lnlinks href=#hl-55-17>17</a>
</span><span class=lnt id=hl-55-18><a class=lnlinks href=#hl-55-18>18</a>
</span><span class=lnt id=hl-55-19><a class=lnlinks href=#hl-55-19>19</a>
</span><span class=lnt id=hl-55-20><a class=lnlinks href=#hl-55-20>20</a>
</span><span class=lnt id=hl-55-21><a class=lnlinks href=#hl-55-21>21</a>
</span><span class=lnt id=hl-55-22><a class=lnlinks href=#hl-55-22>22</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-jsx data-lang=jsx><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>Routes</span><span class=p>,</span> <span class=nx>Route</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;react-router-dom&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Home</span> <span class=nx>from</span> <span class=s1>&#39;./page/Home&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>ShowBook</span> <span class=nx>from</span> <span class=s1>&#39;./page/ShowBook&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>EditBook</span> <span class=nx>from</span> <span class=s1>&#39;./page/EditBook&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>NewBook</span> <span class=nx>from</span> <span class=s1>&#39;./page/NewBook&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>CreateBook</span> <span class=nx>from</span> <span class=s1>&#39;./page/CreateBook&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>DeleteBook</span> <span class=nx>from</span> <span class=s1>&#39;./page/DeleteBook&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>App</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Routes</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>Route</span> <span class=na>path</span><span class=o>=</span><span class=s>&#39;/&#39;</span> <span class=na>element</span><span class=o>=</span><span class=p>{</span> <span class=p>&lt;</span><span class=nt>Home</span> <span class=p>/&gt;</span> <span class=p>}</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>Route</span> <span class=na>path</span><span class=o>=</span><span class=s>&#39;/books/create&#39;</span> <span class=na>element</span><span class=o>=</span><span class=p>{</span> <span class=p>&lt;</span><span class=nt>CreateBook</span> <span class=p>/&gt;</span> <span class=p>}</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>Route</span> <span class=na>path</span><span class=o>=</span><span class=s>&#39;/books/details/:id&#39;</span> <span class=na>element</span><span class=o>=</span><span class=p>{</span> <span class=p>&lt;</span><span class=nt>ShowBook</span> <span class=p>/&gt;</span> <span class=p>}</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>Route</span> <span class=na>path</span><span class=o>=</span><span class=s>&#39;/books/edit/:id&#39;</span> <span class=na>element</span><span class=o>=</span><span class=p>{</span> <span class=p>&lt;</span><span class=nt>EditBook</span> <span class=p>/&gt;</span> <span class=p>}</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>Route</span> <span class=na>path</span><span class=o>=</span><span class=s>&#39;/books/delete/:id&#39;</span> <span class=na>element</span><span class=o>=</span><span class=p>{</span> <span class=p>&lt;</span><span class=nt>DeleteBook</span> <span class=p>/&gt;</span> <span class=p>}</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>Routes</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=nx>App</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=14-showing-books-in-react>14-Showing books in react<a hidden class=anchor aria-hidden=true href=#14-showing-books-in-react>#</a></h2><p>In this part we need both the frontend and the backend of the project and we will be using the backend from the previous part.</p><h3 id=packages-needed>Packages needed<a hidden class=anchor aria-hidden=true href=#packages-needed>#</a></h3><p>First cd into the frontend folder and run the following command to install the packages needed.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-56-1><a class=lnlinks href=#hl-56-1>1</a>
</span><span class=lnt id=hl-56-2><a class=lnlinks href=#hl-56-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> frontend
</span></span><span class=line><span class=cl>npm install axios react-icons
</span></span></code></pre></td></tr></table></div></div><p>Axios is a promise based HTTP client for the browser and node.js and react-icons is a library that provides popular icons for your react project.</p><h3 id=tweaking-the-backend>Tweaking the backend<a hidden class=anchor aria-hidden=true href=#tweaking-the-backend>#</a></h3><p>Open the <code>/backend/index.js</code> and do the following changes.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-57-1><a class=lnlinks href=#hl-57-1>1</a>
</span><span class=lnt id=hl-57-2><a class=lnlinks href=#hl-57-2>2</a>
</span><span class=lnt id=hl-57-3><a class=lnlinks href=#hl-57-3>3</a>
</span><span class=lnt id=hl-57-4><a class=lnlinks href=#hl-57-4>4</a>
</span><span class=lnt id=hl-57-5><a class=lnlinks href=#hl-57-5>5</a>
</span><span class=lnt id=hl-57-6><a class=lnlinks href=#hl-57-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>cors</span><span class=p>());</span>
</span></span><span class=line><span class=cl><span class=c1>// app.use(cors({
</span></span></span><span class=line><span class=cl><span class=c1>//     origin: &#39;http://localhost:5000&#39;,
</span></span></span><span class=line><span class=cl><span class=c1>//     methods: &#39;GET, POST, PUT, DELETE&#39;,
</span></span></span><span class=line><span class=cl><span class=c1>//     allowedHeaders: &#39;Content-Type&#39;
</span></span></span><span class=line><span class=cl><span class=c1>// }));
</span></span></span></code></pre></td></tr></table></div></div><p>We are commenting out the cors options because we are not going to use it in this part.</p><h3 id=creating-react-components-for-loading-state>Creating react components for loading state<a hidden class=anchor aria-hidden=true href=#creating-react-components-for-loading-state>#</a></h3><p>Create a folder in <code>frontend/src</code> called <code>components</code> and create a file called <code>Spinner.jsx</code> and add the following code.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-58-1><a class=lnlinks href=#hl-58-1>1</a>
</span><span class=lnt id=hl-58-2><a class=lnlinks href=#hl-58-2>2</a>
</span><span class=lnt id=hl-58-3><a class=lnlinks href=#hl-58-3>3</a>
</span><span class=lnt id=hl-58-4><a class=lnlinks href=#hl-58-4>4</a>
</span><span class=lnt id=hl-58-5><a class=lnlinks href=#hl-58-5>5</a>
</span><span class=lnt id=hl-58-6><a class=lnlinks href=#hl-58-6>6</a>
</span><span class=lnt id=hl-58-7><a class=lnlinks href=#hl-58-7>7</a>
</span><span class=lnt id=hl-58-8><a class=lnlinks href=#hl-58-8>8</a>
</span><span class=lnt id=hl-58-9><a class=lnlinks href=#hl-58-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-jsx data-lang=jsx><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>Spinner</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>className</span><span class=o>=</span><span class=s>&#39;animate-ping w-16 h-16 m-8 rounded-full bg-sky-600&#39;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=nx>Spinner</span>
</span></span></code></pre></td></tr></table></div></div><p>This is a simple spinner component that we will use to show the user that the books are being loaded.</p><h3 id=now-we-have-to-create-a-component-to-show-the-books>Now we have to create a component to show the books<a hidden class=anchor aria-hidden=true href=#now-we-have-to-create-a-component-to-show-the-books>#</a></h3><p>Modifying <code>frontend/src/page/Home.jsx</code> to show the books.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-59-1><a class=lnlinks href=#hl-59-1> 1</a>
</span><span class=lnt id=hl-59-2><a class=lnlinks href=#hl-59-2> 2</a>
</span><span class=lnt id=hl-59-3><a class=lnlinks href=#hl-59-3> 3</a>
</span><span class=lnt id=hl-59-4><a class=lnlinks href=#hl-59-4> 4</a>
</span><span class=lnt id=hl-59-5><a class=lnlinks href=#hl-59-5> 5</a>
</span><span class=lnt id=hl-59-6><a class=lnlinks href=#hl-59-6> 6</a>
</span><span class=lnt id=hl-59-7><a class=lnlinks href=#hl-59-7> 7</a>
</span><span class=lnt id=hl-59-8><a class=lnlinks href=#hl-59-8> 8</a>
</span><span class=lnt id=hl-59-9><a class=lnlinks href=#hl-59-9> 9</a>
</span><span class=lnt id=hl-59-10><a class=lnlinks href=#hl-59-10>10</a>
</span><span class=lnt id=hl-59-11><a class=lnlinks href=#hl-59-11>11</a>
</span><span class=lnt id=hl-59-12><a class=lnlinks href=#hl-59-12>12</a>
</span><span class=lnt id=hl-59-13><a class=lnlinks href=#hl-59-13>13</a>
</span><span class=lnt id=hl-59-14><a class=lnlinks href=#hl-59-14>14</a>
</span><span class=lnt id=hl-59-15><a class=lnlinks href=#hl-59-15>15</a>
</span><span class=lnt id=hl-59-16><a class=lnlinks href=#hl-59-16>16</a>
</span><span class=lnt id=hl-59-17><a class=lnlinks href=#hl-59-17>17</a>
</span><span class=lnt id=hl-59-18><a class=lnlinks href=#hl-59-18>18</a>
</span><span class=lnt id=hl-59-19><a class=lnlinks href=#hl-59-19>19</a>
</span><span class=lnt id=hl-59-20><a class=lnlinks href=#hl-59-20>20</a>
</span><span class=lnt id=hl-59-21><a class=lnlinks href=#hl-59-21>21</a>
</span><span class=lnt id=hl-59-22><a class=lnlinks href=#hl-59-22>22</a>
</span><span class=lnt id=hl-59-23><a class=lnlinks href=#hl-59-23>23</a>
</span><span class=lnt id=hl-59-24><a class=lnlinks href=#hl-59-24>24</a>
</span><span class=lnt id=hl-59-25><a class=lnlinks href=#hl-59-25>25</a>
</span><span class=lnt id=hl-59-26><a class=lnlinks href=#hl-59-26>26</a>
</span><span class=lnt id=hl-59-27><a class=lnlinks href=#hl-59-27>27</a>
</span><span class=lnt id=hl-59-28><a class=lnlinks href=#hl-59-28>28</a>
</span><span class=lnt id=hl-59-29><a class=lnlinks href=#hl-59-29>29</a>
</span><span class=lnt id=hl-59-30><a class=lnlinks href=#hl-59-30>30</a>
</span><span class=lnt id=hl-59-31><a class=lnlinks href=#hl-59-31>31</a>
</span><span class=lnt id=hl-59-32><a class=lnlinks href=#hl-59-32>32</a>
</span><span class=lnt id=hl-59-33><a class=lnlinks href=#hl-59-33>33</a>
</span><span class=lnt id=hl-59-34><a class=lnlinks href=#hl-59-34>34</a>
</span><span class=lnt id=hl-59-35><a class=lnlinks href=#hl-59-35>35</a>
</span><span class=lnt id=hl-59-36><a class=lnlinks href=#hl-59-36>36</a>
</span><span class=lnt id=hl-59-37><a class=lnlinks href=#hl-59-37>37</a>
</span><span class=lnt id=hl-59-38><a class=lnlinks href=#hl-59-38>38</a>
</span><span class=lnt id=hl-59-39><a class=lnlinks href=#hl-59-39>39</a>
</span><span class=lnt id=hl-59-40><a class=lnlinks href=#hl-59-40>40</a>
</span><span class=lnt id=hl-59-41><a class=lnlinks href=#hl-59-41>41</a>
</span><span class=lnt id=hl-59-42><a class=lnlinks href=#hl-59-42>42</a>
</span><span class=lnt id=hl-59-43><a class=lnlinks href=#hl-59-43>43</a>
</span><span class=lnt id=hl-59-44><a class=lnlinks href=#hl-59-44>44</a>
</span><span class=lnt id=hl-59-45><a class=lnlinks href=#hl-59-45>45</a>
</span><span class=lnt id=hl-59-46><a class=lnlinks href=#hl-59-46>46</a>
</span><span class=lnt id=hl-59-47><a class=lnlinks href=#hl-59-47>47</a>
</span><span class=lnt id=hl-59-48><a class=lnlinks href=#hl-59-48>48</a>
</span><span class=lnt id=hl-59-49><a class=lnlinks href=#hl-59-49>49</a>
</span><span class=lnt id=hl-59-50><a class=lnlinks href=#hl-59-50>50</a>
</span><span class=lnt id=hl-59-51><a class=lnlinks href=#hl-59-51>51</a>
</span><span class=lnt id=hl-59-52><a class=lnlinks href=#hl-59-52>52</a>
</span><span class=lnt id=hl-59-53><a class=lnlinks href=#hl-59-53>53</a>
</span><span class=lnt id=hl-59-54><a class=lnlinks href=#hl-59-54>54</a>
</span><span class=lnt id=hl-59-55><a class=lnlinks href=#hl-59-55>55</a>
</span><span class=lnt id=hl-59-56><a class=lnlinks href=#hl-59-56>56</a>
</span><span class=lnt id=hl-59-57><a class=lnlinks href=#hl-59-57>57</a>
</span><span class=lnt id=hl-59-58><a class=lnlinks href=#hl-59-58>58</a>
</span><span class=lnt id=hl-59-59><a class=lnlinks href=#hl-59-59>59</a>
</span><span class=lnt id=hl-59-60><a class=lnlinks href=#hl-59-60>60</a>
</span><span class=lnt id=hl-59-61><a class=lnlinks href=#hl-59-61>61</a>
</span><span class=lnt id=hl-59-62><a class=lnlinks href=#hl-59-62>62</a>
</span><span class=lnt id=hl-59-63><a class=lnlinks href=#hl-59-63>63</a>
</span><span class=lnt id=hl-59-64><a class=lnlinks href=#hl-59-64>64</a>
</span><span class=lnt id=hl-59-65><a class=lnlinks href=#hl-59-65>65</a>
</span><span class=lnt id=hl-59-66><a class=lnlinks href=#hl-59-66>66</a>
</span><span class=lnt id=hl-59-67><a class=lnlinks href=#hl-59-67>67</a>
</span><span class=lnt id=hl-59-68><a class=lnlinks href=#hl-59-68>68</a>
</span><span class=lnt id=hl-59-69><a class=lnlinks href=#hl-59-69>69</a>
</span><span class=lnt id=hl-59-70><a class=lnlinks href=#hl-59-70>70</a>
</span><span class=lnt id=hl-59-71><a class=lnlinks href=#hl-59-71>71</a>
</span><span class=lnt id=hl-59-72><a class=lnlinks href=#hl-59-72>72</a>
</span><span class=lnt id=hl-59-73><a class=lnlinks href=#hl-59-73>73</a>
</span><span class=lnt id=hl-59-74><a class=lnlinks href=#hl-59-74>74</a>
</span><span class=lnt id=hl-59-75><a class=lnlinks href=#hl-59-75>75</a>
</span><span class=lnt id=hl-59-76><a class=lnlinks href=#hl-59-76>76</a>
</span><span class=lnt id=hl-59-77><a class=lnlinks href=#hl-59-77>77</a>
</span><span class=lnt id=hl-59-78><a class=lnlinks href=#hl-59-78>78</a>
</span><span class=lnt id=hl-59-79><a class=lnlinks href=#hl-59-79>79</a>
</span><span class=lnt id=hl-59-80><a class=lnlinks href=#hl-59-80>80</a>
</span><span class=lnt id=hl-59-81><a class=lnlinks href=#hl-59-81>81</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-jsx data-lang=jsx><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>useState</span><span class=p>,</span> <span class=nx>useEffect</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>axios</span> <span class=nx>from</span> <span class=s1>&#39;axios&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Spinner</span> <span class=nx>from</span> <span class=s1>&#39;../components/Spinner&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>AiOutlineEdit</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;react-icons/ai&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>BsInfoCircle</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;react-icons/bs&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>MdOutlineAddBox</span><span class=p>,</span> <span class=nx>MdOutlineDelete</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;react-icons/md&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>Link</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;react-router-dom&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>Home</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=p>[</span><span class=nx>books</span><span class=p>,</span> <span class=nx>setBooks</span><span class=p>]</span> <span class=o>=</span> <span class=nx>useState</span><span class=p>([]);</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=p>[</span><span class=nx>loading</span><span class=p>,</span> <span class=nx>setLoading</span><span class=p>]</span> <span class=o>=</span> <span class=nx>useState</span><span class=p>(</span><span class=kc>false</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>useEffect</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>setLoading</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>axios</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;http://localhost:5000/books&#39;</span><span class=p>).</span><span class=nx>then</span><span class=p>((</span><span class=nx>response</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>setBooks</span><span class=p>(</span><span class=nx>response</span><span class=p>.</span><span class=nx>data</span><span class=p>.</span><span class=nx>data</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>setLoading</span><span class=p>(</span><span class=kc>false</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}).</span><span class=k>catch</span><span class=p>((</span><span class=nx>error</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>setLoading</span><span class=p>(</span><span class=kc>false</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=p>[]);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>className</span><span class=o>=</span><span class=s>&#39;p-4&#39;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>div</span> <span class=na>className</span><span class=o>=</span><span class=s>&#39;flex justify-between items-center&#39;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>h1</span> <span class=na>className</span><span class=o>=</span><span class=s>&#39;text-3xl my-8&#39;</span><span class=p>&gt;</span><span class=nx>Book</span> <span class=nx>list</span><span class=p>&lt;/</span><span class=nt>h1</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>Link</span> <span class=na>to </span><span class=o>=</span><span class=s>&#39;/books/create&#39;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>          <span class=p>&lt;</span><span class=nt>MdOutlineAddBox</span> <span class=na>className</span><span class=o>=</span><span class=s>&#39;text-sky-800 text-4xl&#39;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>Link</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span><span class=nx>loading</span> <span class=o>?</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>Spinner</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>)</span> <span class=o>:</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>table</span> <span class=na>className</span><span class=o>=</span><span class=s>&#39;w-full border-separate border-spacing-2&#39;</span> <span class=p>&gt;</span>
</span></span><span class=line><span class=cl>          <span class=p>&lt;</span><span class=nt>thead</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>              <span class=p>&lt;</span><span class=nt>th</span> <span class=na>className</span><span class=o>=</span><span class=s>&#39;border border-slate-600 rounded-md&#39;</span><span class=p>&gt;</span><span class=nx>No</span><span class=p>&lt;/</span><span class=nt>th</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>              <span class=p>&lt;</span><span class=nt>th</span> <span class=na>className</span><span class=o>=</span><span class=s>&#39;border border-slate-600 rounded-md&#39;</span><span class=p>&gt;</span><span class=nx>Title</span><span class=p>&lt;/</span><span class=nt>th</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>              <span class=p>&lt;</span><span class=nt>th</span> <span class=na>className</span><span class=o>=</span><span class=s>&#39;border border-slate-600 rounded-md max-md:hidden&#39;</span><span class=p>&gt;</span><span class=nx>Author</span><span class=p>&lt;/</span><span class=nt>th</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>              <span class=p>&lt;</span><span class=nt>th</span> <span class=na>className</span><span class=o>=</span><span class=s>&#39;border border-slate-600 rounded-md&#39;</span><span class=p>&gt;</span><span class=nx>Publish</span> <span class=nx>Year</span><span class=p>&lt;/</span><span class=nt>th</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>              <span class=p>&lt;</span><span class=nt>th</span> <span class=na>className</span><span class=o>=</span><span class=s>&#39;border border-slate-600 rounded-md max-md:hidden&#39;</span><span class=p>&gt;</span><span class=nx>Operations</span><span class=p>&lt;/</span><span class=nt>th</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>          <span class=p>&lt;/</span><span class=nt>thead</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>          <span class=p>&lt;</span><span class=nt>tbody</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span><span class=nx>books</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>book</span><span class=p>,</span> <span class=nx>index</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>              <span class=p>&lt;</span><span class=nt>tr</span> <span class=na>key</span><span class=o>=</span><span class=p>{</span><span class=nx>book</span><span class=p>.</span><span class=nx>_id</span><span class=p>}</span> <span class=na>className</span><span class=o>=</span><span class=s>&#39;h-8&#39;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;</span><span class=nt>td</span> <span class=na>className</span><span class=o>=</span><span class=s>&#39;border border-slate-700 rounded-md text-center&#39;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                  <span class=p>{</span><span class=nx>index</span> <span class=o>+</span> <span class=mi>1</span><span class=p>}</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;</span><span class=nt>td</span> <span class=na>className</span><span class=o>=</span><span class=s>&#39;border border-slate-700 rounded-md text-center&#39;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                  <span class=p>{</span><span class=nx>book</span><span class=p>.</span><span class=nx>title</span><span class=p>}</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;</span><span class=nt>td</span> <span class=na>className</span><span class=o>=</span><span class=s>&#39;border border-slate-700 rounded-md text-center&#39;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                  <span class=p>{</span><span class=nx>book</span><span class=p>.</span><span class=nx>author</span><span class=p>}</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;</span><span class=nt>td</span> <span class=na>className</span><span class=o>=</span><span class=s>&#39;border border-slate-700 rounded-md text-center&#39;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                  <span class=p>{</span><span class=nx>book</span><span class=p>.</span><span class=nx>publishYear</span><span class=p>}</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;</span><span class=nt>td</span> <span class=na>className</span><span class=o>=</span><span class=s>&#39;border border-slate-700 rounded-md text-center&#39;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>className</span><span class=o>=</span><span class=s>&#39;flex justify-center gap-x-4&#39;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                    <span class=p>&lt;</span><span class=nt>Link</span> <span class=na>to</span><span class=o>=</span><span class=p>{</span><span class=sb>`/books/details/</span><span class=si>${</span><span class=nx>book</span><span class=p>.</span><span class=nx>_id</span><span class=si>}</span><span class=sb>`</span><span class=p>}&gt;</span>
</span></span><span class=line><span class=cl>                      <span class=p>&lt;</span><span class=nt>BsInfoCircle</span> <span class=na>className</span><span class=o>=</span><span class=s>&#39;text-sky-800 text-2xl&#39;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>                    <span class=p>&lt;/</span><span class=nt>Link</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                    <span class=p>&lt;</span><span class=nt>Link</span> <span class=na>to</span><span class=o>=</span><span class=p>{</span><span class=sb>`/books/edit/</span><span class=si>${</span><span class=nx>book</span><span class=p>.</span><span class=nx>_id</span><span class=si>}</span><span class=sb>`</span><span class=p>}&gt;</span>
</span></span><span class=line><span class=cl>                      <span class=p>&lt;</span><span class=nt>AiOutlineEdit</span> <span class=na>className</span><span class=o>=</span><span class=s>&#39;text-sky-800 text-2xl&#39;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>                    <span class=p>&lt;/</span><span class=nt>Link</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                    <span class=p>&lt;</span><span class=nt>Link</span> <span class=na>to</span><span class=o>=</span><span class=p>{</span><span class=sb>`/books/delete/</span><span class=si>${</span><span class=nx>book</span><span class=p>.</span><span class=nx>_id</span><span class=si>}</span><span class=sb>`</span><span class=p>}&gt;</span>
</span></span><span class=line><span class=cl>                      <span class=p>&lt;</span><span class=nt>MdOutlineDelete</span> <span class=na>className</span><span class=o>=</span><span class=s>&#39;text-sky-800 text-2xl&#39;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>                    <span class=p>&lt;/</span><span class=nt>Link</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>              <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>              <span class=p>))}</span>
</span></span><span class=line><span class=cl>          <span class=p>&lt;/</span><span class=nt>tbody</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>table</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>)}</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=nx>Home</span>
</span></span></code></pre></td></tr></table></div></div><p>Explanation of the code:
This is a React component named <code>Home</code> that fetches and displays a list of books from a backend server. Here&rsquo;s a breakdown of what each part of the code does:</p><ol><li><p><strong>Imports</strong>: The necessary modules and components are imported. This includes React itself, the <code>useState</code> and <code>useEffect</code> hooks from React, the <code>axios</code> library for making HTTP requests, a <code>Spinner</code> component (presumably a loading spinner), several icons from <code>react-icons</code>, and the <code>Link</code> component from <code>react-router-dom</code>.</p></li><li><p><strong>State Variables</strong>: Two state variables are declared using the <code>useState</code> hook: <code>books</code> (an array to store the list of books) and <code>loading</code> (a boolean to track whether the data is currently being fetched).</p></li><li><p><strong>Data Fetching</strong>: The <code>useEffect</code> hook is used to fetch the list of books from the backend server when the component is first rendered. The <code>axios.get</code> function is used to make a GET request to the server. If the request is successful, the response data is stored in the <code>books</code> state variable and <code>loading</code> is set to <code>false</code>. If an error occurs, it&rsquo;s logged to the console and <code>loading</code> is also set to <code>false</code>.</p></li><li><p><strong>Rendering</strong>: The component returns a JSX element that displays a list of books. If the data is still being fetched (<code>loading</code> is <code>true</code>), a <code>Spinner</code> component is displayed. Otherwise, a table is displayed with each book&rsquo;s details. Each book has links to its detail, edit, and delete pages, which are created using the <code>Link</code> component from <code>react-router-dom</code>.</p></li><li><p><strong>Export</strong>: Finally, the <code>Home</code> component is exported for use in other parts of the application.</p></li></ol><p>Modifying <code>frontend/src/App.js</code> to show the <code>Home</code> component.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-60-1><a class=lnlinks href=#hl-60-1> 1</a>
</span><span class=lnt id=hl-60-2><a class=lnlinks href=#hl-60-2> 2</a>
</span><span class=lnt id=hl-60-3><a class=lnlinks href=#hl-60-3> 3</a>
</span><span class=lnt id=hl-60-4><a class=lnlinks href=#hl-60-4> 4</a>
</span><span class=lnt id=hl-60-5><a class=lnlinks href=#hl-60-5> 5</a>
</span><span class=lnt id=hl-60-6><a class=lnlinks href=#hl-60-6> 6</a>
</span><span class=lnt id=hl-60-7><a class=lnlinks href=#hl-60-7> 7</a>
</span><span class=lnt id=hl-60-8><a class=lnlinks href=#hl-60-8> 8</a>
</span><span class=lnt id=hl-60-9><a class=lnlinks href=#hl-60-9> 9</a>
</span><span class=lnt id=hl-60-10><a class=lnlinks href=#hl-60-10>10</a>
</span><span class=lnt id=hl-60-11><a class=lnlinks href=#hl-60-11>11</a>
</span><span class=lnt id=hl-60-12><a class=lnlinks href=#hl-60-12>12</a>
</span><span class=lnt id=hl-60-13><a class=lnlinks href=#hl-60-13>13</a>
</span><span class=lnt id=hl-60-14><a class=lnlinks href=#hl-60-14>14</a>
</span><span class=lnt id=hl-60-15><a class=lnlinks href=#hl-60-15>15</a>
</span><span class=lnt id=hl-60-16><a class=lnlinks href=#hl-60-16>16</a>
</span><span class=lnt id=hl-60-17><a class=lnlinks href=#hl-60-17>17</a>
</span><span class=lnt id=hl-60-18><a class=lnlinks href=#hl-60-18>18</a>
</span><span class=lnt id=hl-60-19><a class=lnlinks href=#hl-60-19>19</a>
</span><span class=lnt id=hl-60-20><a class=lnlinks href=#hl-60-20>20</a>
</span><span class=lnt id=hl-60-21><a class=lnlinks href=#hl-60-21>21</a>
</span><span class=lnt id=hl-60-22><a class=lnlinks href=#hl-60-22>22</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-jsx data-lang=jsx><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>Routes</span><span class=p>,</span> <span class=nx>Route</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;react-router-dom&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Home</span> <span class=nx>from</span> <span class=s1>&#39;./page/Home&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>ShowBook</span> <span class=nx>from</span> <span class=s1>&#39;./page/ShowBook&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>EditBook</span> <span class=nx>from</span> <span class=s1>&#39;./page/EditBook&#39;</span>
</span></span><span class=line><span class=cl><span class=c1>// import NewBook from &#39;./page/NewBook&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>CreateBook</span> <span class=nx>from</span> <span class=s1>&#39;./page/CreateBook&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>DeleteBook</span> <span class=nx>from</span> <span class=s1>&#39;./page/DeleteBook&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>App</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Routes</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>Route</span> <span class=na>path</span><span class=o>=</span><span class=s>&#39;/&#39;</span> <span class=na>element</span><span class=o>=</span><span class=p>{</span> <span class=p>&lt;</span><span class=nt>Home</span> <span class=p>/&gt;</span> <span class=p>}</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>Route</span> <span class=na>path</span><span class=o>=</span><span class=s>&#39;/books/create&#39;</span> <span class=na>element</span><span class=o>=</span><span class=p>{</span> <span class=p>&lt;</span><span class=nt>CreateBook</span> <span class=p>/&gt;</span> <span class=p>}</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>Route</span> <span class=na>path</span><span class=o>=</span><span class=s>&#39;/books/details/:id&#39;</span> <span class=na>element</span><span class=o>=</span><span class=p>{</span> <span class=p>&lt;</span><span class=nt>ShowBook</span> <span class=p>/&gt;</span> <span class=p>}</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>Route</span> <span class=na>path</span><span class=o>=</span><span class=s>&#39;/books/edit/:id&#39;</span> <span class=na>element</span><span class=o>=</span><span class=p>{</span> <span class=p>&lt;</span><span class=nt>EditBook</span> <span class=p>/&gt;</span> <span class=p>}</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>Route</span> <span class=na>path</span><span class=o>=</span><span class=s>&#39;/books/delete/:id&#39;</span> <span class=na>element</span><span class=o>=</span><span class=p>{</span> <span class=p>&lt;</span><span class=nt>DeleteBook</span> <span class=p>/&gt;</span> <span class=p>}</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>Routes</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=nx>App</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=running-the-code>Running the code<a hidden class=anchor aria-hidden=true href=#running-the-code>#</a></h3><p>To run this code two instances of the terminal must be made. One for the backend and the other for the frontend. In the backend terminal run the following command.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-61-1><a class=lnlinks href=#hl-61-1>1</a>
</span><span class=lnt id=hl-61-2><a class=lnlinks href=#hl-61-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> backend/
</span></span><span class=line><span class=cl>npm run dev
</span></span></code></pre></td></tr></table></div></div><p>In the frontend terminal run the following command.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-62-1><a class=lnlinks href=#hl-62-1>1</a>
</span><span class=lnt id=hl-62-2><a class=lnlinks href=#hl-62-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> frontend/
</span></span><span class=line><span class=cl>npm run dev
</span></span></code></pre></td></tr></table></div></div><p>Open the link provided by the frontend page and you will see the books being displayed.</p><p><strong>Preview of the page:</strong>
<img loading=lazy src=https://github.com/AumPauskar/MERN-trial/blob/main/docs/assets/react-book-list.png alt="React book list"></p><h2 id=references>References<a hidden class=anchor aria-hidden=true href=#references>#</a></h2><ul><li><a href="https://youtu.be/-42K44A1oMA?si=E38KksJu-mndwl-m">freecodecamp.org</a></li><li><a href=https://github.com/AumPauskar/MERN-trial>My github repo</a> derived from the above link</li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://aumpauskar.github.io/blog/tags/web/>Web</a></li><li><a href=https://aumpauskar.github.io/blog/tags/mern/>Mern</a></li><li><a href=https://aumpauskar.github.io/blog/tags/nodejs/>Nodejs</a></li><li><a href=https://aumpauskar.github.io/blog/tags/react/>React</a></li><li><a href=https://aumpauskar.github.io/blog/tags/expressjs/>Expressjs</a></li><li><a href=https://aumpauskar.github.io/blog/tags/mongodb/>Mongodb</a></li><li><a href=https://aumpauskar.github.io/blog/tags/javascript/>Javascript</a></li><li><a href=https://aumpauskar.github.io/blog/tags/fullstack/>Fullstack</a></li></ul><nav class=paginav><a class=prev href=https://aumpauskar.github.io/blog/posts/web/docker/><span class=title>« Prev</span><br><span>Docker</span>
</a><a class=next href=https://aumpauskar.github.io/blog/posts/iot/iot_professional_elective/><span class=title>Next »</span><br><span>IOT Professional elective</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Mern tutorial on x" href="https://x.com/intent/tweet/?text=Mern%20tutorial&amp;url=https%3a%2f%2faumpauskar.github.io%2fblog%2fposts%2fweb%2fmern%2f&amp;hashtags=web%2cmern%2cnodejs%2creact%2cexpressjs%2cmongodb%2cjavascript%2cfullstack"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share Mern tutorial on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2faumpauskar.github.io%2fblog%2fposts%2fweb%2fmern%2f&amp;title=Mern%20tutorial&amp;summary=Mern%20tutorial&amp;source=https%3a%2f%2faumpauskar.github.io%2fblog%2fposts%2fweb%2fmern%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share Mern tutorial on reddit" href="https://reddit.com/submit?url=https%3a%2f%2faumpauskar.github.io%2fblog%2fposts%2fweb%2fmern%2f&title=Mern%20tutorial"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share Mern tutorial on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2faumpauskar.github.io%2fblog%2fposts%2fweb%2fmern%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share Mern tutorial on whatsapp" href="https://api.whatsapp.com/send?text=Mern%20tutorial%20-%20https%3a%2f%2faumpauskar.github.io%2fblog%2fposts%2fweb%2fmern%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share Mern tutorial on telegram" href="https://telegram.me/share/url?text=Mern%20tutorial&amp;url=https%3a%2f%2faumpauskar.github.io%2fblog%2fposts%2fweb%2fmern%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share Mern tutorial on ycombinator" href="https://news.ycombinator.com/submitlink?t=Mern%20tutorial&u=https%3a%2f%2faumpauskar.github.io%2fblog%2fposts%2fweb%2fmern%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://aumpauskar.github.io/blog/>Aum's blogging site</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>